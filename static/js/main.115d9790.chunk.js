(this["webpackJsonpcompletium-dapp-zerocouponbond"]=this["webpackJsonpcompletium-dapp-zerocouponbond"]||[]).push([[0],{108:function(e,t,r){},144:function(e,t){function r(e){e.languages.archetype=e.languages.extend("clike",{"class-name":[e.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])[_$A-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|asset|identified|by|to|let|else|when|matchself|match_option|now|none|transition|from|called|some|in|otherwise|entry|specification|before|initialized|forall|removed|added|and|fails|with|require|if|then|effect|var|dofailif|dorequire|begin|end|transfer|contract|getter|return)\b/,lookbehind:!0}],number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,function:/#?[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|and|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),e.languages.archetype["class-name"][0].pattern=/(\b(?:entry|getter|variable|constant|asset)\s+)[\w.\\]+/,e.languages.insertBefore("archetype","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyus]{0,6}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:e.languages.regex},"regex-flags":/[a-z]+$/,"regex-delimiter":/^\/|\/$/}},"function-variable":{pattern:/#?[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)?\s*\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\))/,lookbehind:!0,inside:e.languages.archetype},{pattern:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*=>)/i,inside:e.languages.archetype},{pattern:/(\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*=>)/,lookbehind:!0,inside:e.languages.archetype},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*\{)/,lookbehind:!0,inside:e.languages.archetype}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),e.languages.insertBefore("archetype","string",{"template-string":{pattern:/`(?:\\[\s\S]|\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}|(?!\${)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\${|}$/,alias:"punctuation"},rest:e.languages.archetype}},string:/[\s\S]+/}}}),e.languages.markup&&e.languages.markup.tag.addInlined("script","archetype"),e.languages.js=e.languages.archetype}e.exports=r,r.displayName="archetype",r.aliases=["arl"]},182:function(e,t,r){},188:function(e,t){},190:function(e,t){},256:function(e,t){},258:function(e,t){},271:function(e,t){},273:function(e,t){},292:function(e,t,r){"use strict";r.r(t);var i=r(1),n=r(0),a=r.n(n),s=r(15),c=r.n(s),o=(r(108),r(34)),p=r.n(o),l=r(53),m=r(26),d=(r(182),r(351)),u=r(352),b=r(294),j=r(350),g=r(346),h=r(353),x=r(76),f=r(101),O=Object(x.a)((function(e){var t=e.appName,r=a.a.useState((function(){return{wallet:null,tezos:null,accountPkh:null}})),i=Object(m.a)(r,2),n=i[0],s=n.wallet,c=n.tezos,o=n.accountPkh,d=i[1],u=Boolean(c);a.a.useEffect((function(){return f.a.onAvailabilityChange((function(e){d({wallet:e?new f.a(t):null,tezos:null,accountPkh:null})}))}),[d,t]);var b=a.a.useCallback(function(){var e=Object(l.a)(p.a.mark((function e(t,r){var i,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,s){e.next=3;break}throw new Error("Thanos Wallet not available");case 3:return e.next=5,s.connect(t,r);case 5:return i=s.toTezos(),e.next=8,i.wallet.pkh();case 8:n=e.sent,d({wallet:s,tezos:i,accountPkh:n}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),alert("Failed to connect ThanosWallet: ".concat(e.t0.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,r){return e.apply(this,arguments)}}(),[d,s]);return{wallet:s,tezos:c,accountPkh:o,ready:u,connect:b}}),(function(e){return e.wallet}),(function(e){return e.tezos}),(function(e){return e.accountPkh}),(function(e){return e.ready}),(function(e){return e.connect})),I=Object(m.a)(O,6),P=I[0],y=I[1],A=I[2],D=(I[3],I[4]),R=I[5];var S=r(349),v=function(e){var t=D(),r=y();return t?Object(i.jsx)("div",{}):r?Object(i.jsx)(g.a,{variant:"contained",color:"secondary",disableElevation:!0,size:"small",style:{position:"absolute",right:"90px"},onClick:e.handleConnect,children:"connect to wallet"}):Object(i.jsx)(S.a,{href:"https://templewallet.com/",rel:"noopener",underline:"none",style:{position:"absolute",right:"90px"},children:Object(i.jsx)(g.a,{variant:"contained",size:"small",disableElevation:!0,style:{backgroundColor:"#ed8936",color:"white",fontWeight:"bold"},children:"Install Temple"})})},F=r(143),k=r.n(F),w=function(e){D(),y();var t=Object(j.a)("(min-width:600px)")?"visible":"hidden";e.theme.palette.type;return Object(i.jsx)(d.a,{position:"fixed",style:{zIndex:1e4,boxShadow:"none"},children:Object(i.jsxs)(u.a,{children:[Object(i.jsx)(b.a,{variant:"h6",style:{color:"white",position:"absolute",fontFamily:"Alegreya Sans SC, sans-serif"},children:"Completium"}),Object(i.jsx)(h.a,{container:!0,justify:"center",alignItems:"center",children:Object(i.jsx)(h.a,{item:!0,children:Object(i.jsx)(b.a,{variant:"h6",style:{visibility:t,textAlign:"center",color:"white"},children:e.appTitle})})}),Object(i.jsx)(v,{handleConnect:e.handleConnect}),Object(i.jsx)("a",{href:"https://edukera.github.io/completium-landing/docs/dapp-zcb/presentation",target:"_blank",children:Object(i.jsx)(g.a,{style:{color:"white"},component:"span",children:Object(i.jsx)(k.a,{})})})]})})},U=r(163),W=r(364),N=r(8),C=r(370),T=r(367);function G(e){return Object(i.jsx)(T.a,Object(N.a)({elevation:6,variant:"filled"},e))}var E=function(e){return Object(i.jsx)(C.a,{open:e.open,children:Object(i.jsx)(G,{severity:"info",style:{backgroundColor:e.theme.palette.primary.main},children:"Waiting for operation confirmation ..."})})},L="florencenet",z="https://better-call.dev/florencenet",_=r(355),H=r(369),$=r(295),B=r(164),M={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};var Z=Object(x.a)((function(){var e=Object(n.useState)({contractInfo:{issuer:"",issueraccount:"",subscriber:"",subscriberaccount:"",faceprice:"0",discount:"0",duration:"0",period:"0"},contractState:"notcreated",contractAddress:"",signers:[],timeline:[{date:new Intl.DateTimeFormat("en-GB",M).format(Date.now()),type:"editionclosed",label:"Edition closed"}]}),t=Object(m.a)(e,2),r=t[0],i=t[1];return{zcbState:r,setZcbState:i,isCreated:function(){return"notcreated"!==r.contractState},setContractInfo:function(e){i((function(t){return{contractInfo:e,contractState:t.constractState,contractAddress:t.contractAddress,signers:t.signers,timeline:t.timeline}}))},isReady:function(){return""!==r.contractInfo.issuer&&""!==r.contractInfo.issueraccount&&""!==r.contractInfo.subscriber&&""!==r.contractInfo.subscriberaccount&&"0"!==r.contractInfo.faceprice&&"0"!==r.contractInfo.discount&&"0"!==r.contractInfo.duration&&"0"!==r.contractInfo.period},setContractAddress:function(e){i((function(t){return{contractInfo:t.contractInfo,contractState:t.constractState,contractAddress:e,signers:t.signers,timeline:t.timeline}}))},addTimeline:function(e){i((function(t){return{contractInfo:t.contractInfo,contractState:t.constractState,contractAddress:t.contractAddress,signers:t.signers,timeline:[].concat(Object(B.a)(t.timeline),[e])}}))}}})),Q=Object(m.a)(Z,2),V=Q[0],q=Q[1],J=r(371),K=r(66),X=r(31),Y=r(59),ee=r(67),te=r(30),re=r(144);function ie(){var e=Object(K.a)(["\n  display: table-cell;\n  font-size: 15px;\n"]);return ie=function(){return e},e}function ne(){var e=Object(K.a)(["\n  display: table-cell;\n  text-align: right;\n  padding-right: 1em;\n  user-select: none;\n  opacity: 1;\n  padding-left: 48px;\n"]);return ne=function(){return e},e}function ae(){var e=Object(K.a)(["\n  display: flow-root;\n"]);return ae=function(){return e},e}function se(){var e=Object(K.a)(["\n  text-align: left;\n  margin: 1em 0;\n  padding: 0.5em;\n  overflow: scroll;\n"]);return se=function(){return e},e}r.n(re)()(te.a);var ce=ee.a.pre(se()),oe=ee.a.div(ae()),pe=ee.a.span(ne()),le=ee.a.span(ie()),me=function(e){var t='entry sign () { \n    if caller = issuer then \n      issuersigned := true \n    else if caller = subscriber then begin \n      subscribersigned := true; \n      var presentvalue = discount * facevalue; \n      dorequire(transferred >= presentvalue, \n               "SUBSCRIBER_INVALID_TRANSFER"); \n      transfer presentvalue to issuer; \n    end     else fail("CALLER_NOT_A_SIGNER"); \n    if issuersigned and subscribersigned then \n      transfer 0tz to entry self.toSigned(); \n}';return Object(i.jsx)($.a,{square:!0,children:Object(i.jsxs)(h.a,{container:!0,direction:"row",style:{paddingBottom:"40px"},children:[Object(i.jsxs)(h.a,{item:!0,xs:12,style:{paddingTop:"40px",paddingLeft:"70px",paddingRight:"60px",minWidth:"680px"},children:[Object(i.jsx)("div",{ref:e.annex2Ref}),Object(i.jsx)(b.a,{variant:"h6",style:{fontWeight:"bold"},children:"Annex 1"})]}),Object(i.jsx)(h.a,{item:!0,xs:12,style:{paddingLeft:"70px",paddingRight:"60px",minWidth:"680px"},children:Object(i.jsx)(b.a,{paragraph:!0,children:"The present value is computed as the multiplication of the discount rate by the face value (see line 6 below)."})}),Object(i.jsxs)(h.a,{item:!0,xs:12,style:{paddingLeft:"70px",paddingRight:"60px",minWidth:"680px"},children:[Object(i.jsx)("div",{ref:e.annex3Ref}),Object(i.jsx)(b.a,{variant:"h6",style:{fontWeight:"bold"},children:"Annex 2"})]}),Object(i.jsx)(h.a,{item:!0,xs:12,style:{paddingLeft:"70px",paddingRight:"60px",minWidth:"680px"},children:Object(i.jsx)(b.a,{paragraph:!0,children:"The present value is transfered to the issuer during signature by subscriber (see line 8 below)."})}),Object(i.jsx)(h.a,{item:!0,xs:12,children:Object(i.jsx)(X.a,Object(N.a)(Object(N.a)({Prism:te.a},X.b),{},{theme:Y.a,code:t,language:"archetype",children:function(e){var t=e.className,r=e.style,n=e.tokens,a=e.getLineProps,s=e.getTokenProps;return Object(i.jsx)(ce,{className:t,style:Object(N.a)(Object(N.a)({},r),{},{paddingLeft:0,paddingRight:0}),children:n.map((function(e,t){return Object(i.jsxs)(oe,Object(N.a)(Object(N.a)({},a({line:e,key:t})),{},{style:{backgroundColor:5===t||8===t?"#3f51b52e":"#f6f8fa"},children:[Object(i.jsx)(pe,{children:t+1}),Object(i.jsx)(le,{children:e.map((function(e,t){return Object(i.jsx)("span",Object(N.a)({},s({token:e,key:t})),t)}))})]}),t)}))})}}))}),Object(i.jsxs)(h.a,{item:!0,xs:12,style:{paddingLeft:"70px",paddingRight:"60px",minWidth:"680px"},children:[Object(i.jsx)("div",{ref:e.annex4Ref}),Object(i.jsx)(b.a,{variant:"h6",style:{fontWeight:"bold"},children:"Annex 3"})]}),Object(i.jsx)(h.a,{item:!0,xs:12,style:{paddingLeft:"70px",paddingRight:"60px",minWidth:"680px"},children:Object(i.jsxs)(b.a,{paragraph:!0,children:["When issuer and subscriber have signed, the ",Object(i.jsx)("span",{style:{fontFamily:"Courier Prime, monospace"},children:"toSigned"})," entry point is called (see lines 10 and 11 below)."]})}),Object(i.jsx)(h.a,{item:!0,xs:12,children:Object(i.jsx)(X.a,Object(N.a)(Object(N.a)({Prism:te.a},X.b),{},{theme:Y.a,code:t,language:"archetype",children:function(e){var t=e.className,r=e.style,n=e.tokens,a=e.getLineProps,s=e.getTokenProps;return Object(i.jsx)(ce,{className:t,style:Object(N.a)(Object(N.a)({},r),{},{paddingLeft:0,paddingRight:0}),children:n.map((function(e,t){return Object(i.jsxs)(oe,Object(N.a)(Object(N.a)({},a({line:e,key:t})),{},{style:{backgroundColor:10===t||11===t?"#3f51b52e":"#f6f8fa"},children:[Object(i.jsx)(pe,{children:t+1}),Object(i.jsx)(le,{children:e.map((function(e,t){return Object(i.jsx)("span",Object(N.a)({},s({token:e,key:t})),t)}))})]}),t)}))})}}))}),Object(i.jsx)(h.a,{item:!0,xs:12,style:{paddingLeft:"70px",paddingRight:"60px",minWidth:"680px"},children:Object(i.jsxs)(b.a,{paragraph:!0,children:["The ",Object(i.jsx)("span",{style:{fontFamily:"Courier Prime, monospace"},children:"toSigned"})," entry point sets the contract signature date to current time (see line 4 below), and sets contract's state to ",Object(i.jsx)("span",{style:{fontFamily:"Courier Prime, monospace"},children:"Signed"}),"."]})}),Object(i.jsx)(h.a,{item:!0,xs:12,children:Object(i.jsx)(X.a,Object(N.a)(Object(N.a)({Prism:te.a},X.b),{},{theme:Y.a,code:"transition toSigned() { \n    called by selfaddress\n    from Created to Signed with effect {\n      signaturedate := some(now)\n    }\n}",language:"archetype",children:function(e){var t=e.className,r=e.style,n=e.tokens,a=e.getLineProps,s=e.getTokenProps;return Object(i.jsx)(ce,{className:t,style:Object(N.a)(Object(N.a)({},r),{},{paddingLeft:0,paddingRight:0}),children:n.map((function(e,t){return Object(i.jsxs)(oe,Object(N.a)(Object(N.a)({},a({line:e,key:t})),{},{style:{backgroundColor:3===t?"#3f51b52e":"#f6f8fa"},children:[Object(i.jsx)(pe,{children:t+1}),Object(i.jsx)(le,{children:e.map((function(e,t){return Object(i.jsx)("span",Object(N.a)({},s({token:e,key:t})),t)}))})]}),t)}))})}}))}),Object(i.jsxs)(h.a,{item:!0,xs:12,style:{paddingLeft:"70px",paddingRight:"60px",minWidth:"680px"},children:[Object(i.jsx)("div",{ref:e.annex5Ref}),Object(i.jsx)(b.a,{variant:"h6",style:{fontWeight:"bold"},children:"Annex 4"})]}),Object(i.jsx)(h.a,{item:!0,xs:12,style:{paddingLeft:"70px",paddingRight:"60px",minWidth:"680px"},children:Object(i.jsx)(b.a,{paragraph:!0,children:"The face value must be transfered to the subscriber (see line 12 below) during the payback period after the maturity date (see lines 6 and 7 below)."})}),Object(i.jsx)(h.a,{item:!0,xs:12,children:Object(i.jsx)(X.a,Object(N.a)(Object(N.a)({Prism:te.a},X.b),{},{theme:Y.a,code:"transition terminate () {\n    called by issuer\n    from Signed to Terminated when {\n      match_option signaturedate with\n      | some(d) ->\n        d + maturityduration <= now and \n        now <= d + maturityduration + paybackduration and\n        transferred >= facevalue\n      | none -> false\n      end\n    } with effect {\n      transfer facevalue to subscriber\n    }\n}",language:"archetype",children:function(e){var t=e.className,r=e.style,n=e.tokens,a=e.getLineProps,s=e.getTokenProps;return Object(i.jsx)(ce,{className:t,style:Object(N.a)(Object(N.a)({},r),{},{paddingLeft:0,paddingRight:0}),children:n.map((function(e,t){return Object(i.jsxs)(oe,Object(N.a)(Object(N.a)({},a({line:e,key:t})),{},{style:{backgroundColor:5===t||6===t||11===t?"#3f51b52e":"#f6f8fa"},children:[Object(i.jsx)(pe,{children:t+1}),Object(i.jsx)(le,{children:e.map((function(e,t){return Object(i.jsx)("span",Object(N.a)({},s({token:e,key:t})),t)}))})]}),t)}))})}}))}),Object(i.jsx)(h.a,{item:!0,xs:12,style:{paddingLeft:"70px",paddingRight:"60px",minWidth:"680px"},children:Object(i.jsx)(b.a,{variant:"h6",style:{fontWeight:"bold"},children:"Annex 5"})}),Object(i.jsx)(h.a,{item:!0,xs:12,style:{paddingLeft:"70px",paddingRight:"60px",minWidth:"680px"},children:Object(i.jsxs)(b.a,{paragraph:!0,children:["Subscriber may open a dispute (see line 3 below) if the contract is still in ",Object(i.jsx)("span",{style:{fontFamily:"Courier Prime, monospace"},children:"Signed"})," state after payback period (see line 6 below)."]})}),Object(i.jsx)(h.a,{item:!0,xs:12,children:Object(i.jsx)(X.a,Object(N.a)(Object(N.a)({Prism:te.a},X.b),{},{theme:Y.a,code:"transition dispute () {\n    called by subscriber\n    from Signed to Disputed when {\n      match_option signaturedate with\n      | some(d) ->\n        d + maturityduration + paybackduration <=  now\n      | none -> false\n      end\n    }\n}",language:"archetype",children:function(e){var t=e.className,r=e.style,n=e.tokens,a=e.getLineProps,s=e.getTokenProps;return Object(i.jsx)(ce,{className:t,style:Object(N.a)(Object(N.a)({},r),{},{paddingLeft:0,paddingRight:0}),children:n.map((function(e,t){return Object(i.jsxs)(oe,Object(N.a)(Object(N.a)({},a({line:e,key:t})),{},{style:{backgroundColor:2===t||5===t?"#3f51b52e":"#f6f8fa"},children:[Object(i.jsx)(pe,{children:t+1}),Object(i.jsx)(le,{children:e.map((function(e,t){return Object(i.jsx)("span",Object(N.a)({},s({token:e,key:t})),t)}))})]}),t)}))})}}))}),Object(i.jsx)(h.a,{item:!0,xs:12,style:{paddingLeft:"70px",paddingRight:"60px",minWidth:"680px"},children:Object(i.jsx)(b.a,{variant:"h6",style:{fontWeight:"bold"},children:"Annex 6"})}),Object(i.jsx)(h.a,{item:!0,xs:12,style:{paddingLeft:"70px",paddingRight:"60px",minWidth:"680px"},children:Object(i.jsx)(b.a,{children:"Links:"})}),Object(i.jsx)(h.a,{item:!0,xs:12,style:{paddingLeft:"80px",paddingRight:"60px",minWidth:"680px"},children:Object(i.jsx)(b.a,{children:"Smart contract's source code"})}),Object(i.jsx)(h.a,{item:!0,xs:12,style:{paddingLeft:"80px",paddingRight:"60px",minWidth:"680px"},children:Object(i.jsx)(b.a,{children:"Archetype language documentation"})})]})})},de=Object(_.a)((function(e){return{tag:{display:"inline-block",border:"2px solid",borderColor:"#1a79b982",borderRadius:"4px",backgroundColor:"#3f51b52e",fontSize:"14px",fontFamily:"Courier Prime, monospace",paddingLeft:"8px",paddingRight:"8px",height:"22px"},filledtag:{display:"inline-block",border:"2px solid",borderColor:"#1a79b982",borderRadius:"4px",fontSize:"14px",fontFamily:"Courier Prime, monospace",paddingLeft:"8px",paddingRight:"8px",height:"22px"},keyword:{fontWeight:"bold"}}})),ue=function(e){var t=de(),r=q().zcbState,n=""===r.contractInfo.issuer?"Issuer name":r.contractInfo.issuer,a=""===r.contractInfo.issuer,s=""===r.contractInfo.issueraccount?"Issuer account":r.contractInfo.issueraccount,c=""===r.contractInfo.issueraccount,o=""===r.contractInfo.subscriber?"Subscriber name":r.contractInfo.subscriber,p=""===r.contractInfo.subscriber,l=""===r.contractInfo.subscriberaccount?"Subscriber account":r.contractInfo.subscriberaccount,m=""===r.contractInfo.subscriberaccount,d="0"===r.contractInfo.faceprice?"Face value":r.contractInfo.faceprice+"\ua729",u="0"===r.contractInfo.faceprice,j="0"===r.contractInfo.discount?"Discount rate":r.contractInfo.discount+"%",g="0"===r.contractInfo.discount,h="0"===r.contractInfo.duration?"Duration":r.contractInfo.duration+" minutes",x="0"===r.contractInfo.duration,f="0"===r.contractInfo.period?"Payback period":r.contractInfo.period+" minutes",O="0"===r.contractInfo.period;return Object(i.jsxs)($.a,{square:!0,style:{paddingTop:"80px",paddingLeft:"70px",paddingRight:"60px",paddingBottom:"80px",minWidth:"680px"},children:[Object(i.jsxs)(b.a,{paragraph:!0,align:"justify",children:["This zero-coupon bond is established between the issuer ",Object(i.jsx)("div",{className:a?t.tag:t.filledtag,children:n}),", identified on the Tezos mainnet by account ",Object(i.jsx)("div",{className:c?t.tag:t.filledtag,children:s}),", and the subscriber ",Object(i.jsx)("div",{className:p?t.tag:t.filledtag,children:o})," identified on the Tezos mainnet by account ",Object(i.jsx)("div",{className:m?t.tag:t.filledtag,children:l}),"."]}),Object(i.jsx)(b.a,{paragraph:!0,align:"justify",children:"The issuer and the subscriber agree on the following terms:"}),Object(i.jsxs)(b.a,{paragraph:!0,align:"justify",children:["The ",Object(i.jsx)("span",{className:t.keyword,children:"face value"})," of the bond is set to ",Object(i.jsx)("div",{className:u?t.tag:t.filledtag,children:d}),"."]}),Object(i.jsxs)(b.a,{paragraph:!0,align:"justify",children:["The ",Object(i.jsx)("span",{className:t.keyword,children:"present value"})," of the bond is computed by applying a discount rate of ",Object(i.jsx)("div",{className:g?t.tag:t.filledtag,children:j})," to the face value (see ",Object(i.jsx)(S.a,{component:"button",onClick:function(){return e.annex1Ref.current.scrollIntoView()},color:"inherit",children:"Annex 1"}),")."]}),Object(i.jsxs)(b.a,{paragraph:!0,align:"justify",children:["The subscriber agrees to pay the issuer the present value of the bond to activate the bond (see ",Object(i.jsx)(S.a,{component:"button",onClick:function(){return e.annex2Ref.current.scrollIntoView()},color:"inherit",children:"Annex 2"}),")."]}),Object(i.jsxs)(b.a,{paragraph:!0,align:"justify",children:["The bond is signed when the issuer and the subscriber have signed the bond (see ",Object(i.jsx)(S.a,{component:"button",onClick:function(){return e.annex3Ref.current.scrollIntoView()},color:"inherit",children:"Annex 3"}),")."]}),Object(i.jsxs)(b.a,{paragraph:!0,align:"justify",children:["The ",Object(i.jsx)("span",{className:t.keyword,children:"maturity date"})," of this bond is set to ",Object(i.jsx)("div",{className:x?t.tag:t.filledtag,children:h})," after the date of signature by both parties. The issuer agrees to pay the face value to the subscriber within a payback period of ",Object(i.jsx)("div",{className:O?t.tag:t.filledtag,children:f}),"  after the maturity date (see ",Object(i.jsx)(S.a,{component:"button",onClick:function(){return e.annex4Ref.current.scrollIntoView()},color:"inherit",children:"Annex 4"}),")."]}),Object(i.jsxs)(b.a,{paragraph:!0,align:"justify",children:["After that period the subscriber may open a dispute (see ",Object(i.jsx)(S.a,{component:"button",onClick:function(){return e.annex5Ref.current.scrollIntoView()},color:"inherit",children:"Annex 5"}),")."]}),Object(i.jsx)(b.a,{paragraph:!0,children:"Signatures:"}),r.timeline.filter((function(e){return"signature"===e.type})).map((function(e){return Object(i.jsx)("a",{style:{textDecoration:"none"},href:z+"/opg/"+e.ophash+"/contents",target:"_blank",children:Object(i.jsx)(J.a,{label:e.signer,variant:"outlined",color:"primary",onClick:function(){},style:{marginRight:20}})})})),Object(i.jsx)("div",{ref:e.annex1Ref})]})},be=function(e){var t=Object(n.useRef)(null),r=Object(n.useRef)(null),a=Object(n.useRef)(null),s=Object(n.useRef)(null),c=Object(n.useRef)(null),o=Object(n.useRef)(null);return Object(i.jsxs)(h.a,{container:!0,direction:!0,row:!0,children:[Object(i.jsx)(h.a,{item:!0,children:Object(i.jsx)(ue,{annex1Ref:t,annex2Ref:r,annex3Ref:a,annex4Ref:s,annex5Ref:c,annex6Ref:o})}),Object(i.jsx)(h.a,{item:!0,children:Object(i.jsx)(u.a,{})}),Object(i.jsx)(h.a,{item:!0,children:Object(i.jsx)(me,{annex1Ref:t,annex2Ref:r,annex3Ref:a,annex4Ref:s,annex5Ref:c,annex6Ref:o})})]})},je=r(148),ge=r.n(je),he=r(149),xe=r.n(he),fe=r(150),Oe=r.n(fe),Ie=r(151),Pe=r.n(Ie),ye=r(152),Ae=r.n(ye),De=r(153),Re=r.n(De),Se=r(154),ve=r.n(Se),Fe=r(155),ke=r.n(Fe),we=r(156),Ue=r.n(we),We=r(157),Ne=r.n(We),Ce=r(356),Te=r(159),Ge=r.n(Te),Ee=r(158),Le=r.n(Ee),ze=[{prim:"storage",args:[{prim:"pair",args:[{prim:"address",annots:["%issuer"]},{prim:"pair",args:[{prim:"address",annots:["%subscriber"]},{prim:"pair",args:[{prim:"mutez",annots:["%facevalue"]},{prim:"pair",args:[{prim:"pair",args:[{prim:"int"},{prim:"nat"}],annots:["%discount"]},{prim:"pair",args:[{prim:"int",annots:["%maturityduration"]},{prim:"pair",args:[{prim:"int",annots:["%paybackduration"]},{prim:"pair",args:[{prim:"bool",annots:["%issuersigned"]},{prim:"pair",args:[{prim:"bool",annots:["%subscribersigned"]},{prim:"pair",args:[{prim:"option",args:[{prim:"timestamp"}],annots:["%signaturedate"]},{prim:"nat",annots:["%_state"]}]}]}]}]}]}]}]}]}]}]},{prim:"parameter",args:[{prim:"or",args:[{prim:"unit",annots:["%toSigned"]},{prim:"or",args:[{prim:"unit",annots:["%sign"]},{prim:"or",args:[{prim:"unit",annots:["%terminate"]},{prim:"unit",annots:["%dispute"]}]}]}]}]},{prim:"code",args:[[{prim:"NIL",args:[{prim:"operation"}]},{prim:"DIG",args:[{int:"1"}]},{prim:"UNPAIR"},{prim:"DIP",args:[{int:"1"},[{prim:"UNPAIR"},{prim:"SWAP"},{prim:"UNPAIR"},{prim:"SWAP"},{prim:"UNPAIR"},{prim:"SWAP"},{prim:"UNPAIR"},{prim:"SWAP"},{prim:"UNPAIR"},{prim:"SWAP"},{prim:"UNPAIR"},{prim:"SWAP"},{prim:"UNPAIR"},{prim:"SWAP"},{prim:"UNPAIR"},{prim:"SWAP"},{prim:"UNPAIR"},{prim:"SWAP"}]]},{prim:"IF_LEFT",args:[[{prim:"DROP",args:[{int:"1"}]},{prim:"SELF"},{prim:"ADDRESS"},{prim:"SENDER"},{prim:"COMPARE"},{prim:"EQ"},{prim:"NOT"},{prim:"IF",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"InvalidCaller"}]},{prim:"FAILWITH"}],[]]},{prim:"DUP"},{prim:"DUP"},{prim:"PUSH",args:[{prim:"nat"},{int:"0"}]},{prim:"COMPARE"},{prim:"EQ"},{prim:"IF",args:[[{prim:"NOW"},{prim:"SOME"},{prim:"DIP",args:[{int:"1"},[{prim:"DIG",args:[{int:"2"}]},{prim:"DROP",args:[{int:"1"}]}]]},{prim:"DUG",args:[{int:"2"}]},{prim:"PUSH",args:[{prim:"nat"},{int:"1"}]},{prim:"DIP",args:[{int:"1"},[{prim:"DIG",args:[{int:"1"}]},{prim:"DROP",args:[{int:"1"}]}]]},{prim:"DUG",args:[{int:"1"}]}],[{prim:"PUSH",args:[{prim:"string"},{string:"InvalidState"}]},{prim:"FAILWITH"}]]},{prim:"DROP",args:[{int:"1"}]},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"DIG",args:[{int:"1"}]},{prim:"PAIR"}],[{prim:"IF_LEFT",args:[[{prim:"DROP",args:[{int:"1"}]},{prim:"DIG",args:[{int:"9"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"10"}]},{prim:"SENDER"},{prim:"COMPARE"},{prim:"EQ"},{prim:"IF",args:[[{prim:"PUSH",args:[{prim:"bool"},{prim:"True"}]},{prim:"DIP",args:[{int:"1"},[{prim:"DIG",args:[{int:"3"}]},{prim:"DROP",args:[{int:"1"}]}]]},{prim:"DUG",args:[{int:"3"}]}],[{prim:"DIG",args:[{int:"8"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"9"}]},{prim:"SENDER"},{prim:"COMPARE"},{prim:"EQ"},{prim:"IF",args:[[{prim:"PUSH",args:[{prim:"bool"},{prim:"True"}]},{prim:"DIP",args:[{int:"1"},[{prim:"DIG",args:[{int:"2"}]},{prim:"DROP",args:[{int:"1"}]}]]},{prim:"DUG",args:[{int:"2"}]},{prim:"DIG",args:[{int:"7"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"8"}]},{prim:"DIG",args:[{int:"7"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"8"}]},{prim:"PAIR"},{prim:"UNPAIR"},{prim:"UNPAIR"},{prim:"ABS"},{prim:"DIG",args:[{int:"2"}]},{prim:"MUL"},{prim:"EDIV"},{prim:"IF_NONE",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"DivByZero"}]},{prim:"FAILWITH"}],[]]},{prim:"CAR"},{prim:"DUP"},{prim:"AMOUNT"},{prim:"COMPARE"},{prim:"GE"},{prim:"NOT"},{prim:"IF",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"SUBSCRIBER_INVALID_TRANSFERRED"}]},{prim:"FAILWITH"}],[]]},{prim:"DIG",args:[{int:"11"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"12"}]},{prim:"DIG",args:[{int:"11"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"12"}]},{prim:"CONTRACT",args:[{prim:"unit"}]},{prim:"IF_NONE",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"BadContract"}]},{prim:"FAILWITH"}],[]]},{prim:"DIG",args:[{int:"2"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"3"}]},{prim:"UNIT"},{prim:"TRANSFER_TOKENS"},{prim:"CONS"},{prim:"DIP",args:[{int:"1"},[{prim:"DIG",args:[{int:"11"}]},{prim:"DROP",args:[{int:"1"}]}]]},{prim:"DUG",args:[{int:"11"}]},{prim:"DROP",args:[{int:"1"}]}],[{prim:"PUSH",args:[{prim:"string"},{string:"CALLER_NOT_A_SIGNER"}]},{prim:"FAILWITH"}]]}]]},{prim:"DIG",args:[{int:"2"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"3"}]},{prim:"DIG",args:[{int:"4"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"5"}]},{prim:"AND"},{prim:"IF",args:[[{prim:"DIG",args:[{int:"10"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"11"}]},{prim:"SELF"},{prim:"ADDRESS"},{prim:"CONTRACT",args:[{prim:"unit"}],annots:["%toSigned"]},{prim:"IF_NONE",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"BadContract"}]},{prim:"FAILWITH"}],[]]},{prim:"PUSH",args:[{prim:"mutez"},{int:"0"}]},{prim:"UNIT"},{prim:"TRANSFER_TOKENS"},{prim:"CONS"},{prim:"DIP",args:[{int:"1"},[{prim:"DIG",args:[{int:"10"}]},{prim:"DROP",args:[{int:"1"}]}]]},{prim:"DUG",args:[{int:"10"}]}],[]]},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"DIG",args:[{int:"1"}]},{prim:"PAIR"}],[{prim:"IF_LEFT",args:[[{prim:"DROP",args:[{int:"1"}]},{prim:"DIG",args:[{int:"9"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"10"}]},{prim:"SENDER"},{prim:"COMPARE"},{prim:"EQ"},{prim:"NOT"},{prim:"IF",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"InvalidCaller"}]},{prim:"FAILWITH"}],[]]},{prim:"DUP"},{prim:"DUP"},{prim:"PUSH",args:[{prim:"nat"},{int:"1"}]},{prim:"COMPARE"},{prim:"EQ"},{prim:"IF",args:[[{prim:"DIG",args:[{int:"2"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"3"}]},{prim:"IF_NONE",args:[[{prim:"PUSH",args:[{prim:"bool"},{prim:"False"}]}],[{prim:"DIG",args:[{int:"9"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"10"}]},{prim:"AMOUNT"},{prim:"COMPARE"},{prim:"GE"},{prim:"DIG",args:[{int:"7"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"8"}]},{prim:"DIG",args:[{int:"9"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"10"}]},{prim:"DIG",args:[{int:"3"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"4"}]},{prim:"ADD"},{prim:"ADD"},{prim:"NOW"},{prim:"COMPARE"},{prim:"LE"},{prim:"NOW"},{prim:"DIG",args:[{int:"10"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"11"}]},{prim:"DIG",args:[{int:"4"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"5"}]},{prim:"ADD"},{prim:"COMPARE"},{prim:"LE"},{prim:"AND"},{prim:"AND"},{prim:"SWAP"},{prim:"DROP",args:[{int:"1"}]}]]},{prim:"IF",args:[[{prim:"DIG",args:[{int:"11"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"12"}]},{prim:"DIG",args:[{int:"10"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"11"}]},{prim:"CONTRACT",args:[{prim:"unit"}]},{prim:"IF_NONE",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"BadContract"}]},{prim:"FAILWITH"}],[]]},{prim:"DIG",args:[{int:"10"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"11"}]},{prim:"UNIT"},{prim:"TRANSFER_TOKENS"},{prim:"CONS"},{prim:"DIP",args:[{int:"1"},[{prim:"DIG",args:[{int:"11"}]},{prim:"DROP",args:[{int:"1"}]}]]},{prim:"DUG",args:[{int:"11"}]},{prim:"PUSH",args:[{prim:"nat"},{int:"2"}]},{prim:"DIP",args:[{int:"1"},[{prim:"DIG",args:[{int:"1"}]},{prim:"DROP",args:[{int:"1"}]}]]},{prim:"DUG",args:[{int:"1"}]}],[]]}],[{prim:"PUSH",args:[{prim:"string"},{string:"InvalidState"}]},{prim:"FAILWITH"}]]},{prim:"DROP",args:[{int:"1"}]},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"DIG",args:[{int:"1"}]},{prim:"PAIR"}],[{prim:"DROP",args:[{int:"1"}]},{prim:"DIG",args:[{int:"8"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"9"}]},{prim:"SENDER"},{prim:"COMPARE"},{prim:"EQ"},{prim:"NOT"},{prim:"IF",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"InvalidCaller"}]},{prim:"FAILWITH"}],[]]},{prim:"DUP"},{prim:"DUP"},{prim:"PUSH",args:[{prim:"nat"},{int:"1"}]},{prim:"COMPARE"},{prim:"EQ"},{prim:"IF",args:[[{prim:"DIG",args:[{int:"2"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"3"}]},{prim:"IF_NONE",args:[[{prim:"PUSH",args:[{prim:"bool"},{prim:"False"}]}],[{prim:"NOW"},{prim:"DIG",args:[{int:"7"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"8"}]},{prim:"DIG",args:[{int:"9"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"10"}]},{prim:"DIG",args:[{int:"3"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"4"}]},{prim:"ADD"},{prim:"ADD"},{prim:"COMPARE"},{prim:"LE"},{prim:"SWAP"},{prim:"DROP",args:[{int:"1"}]}]]},{prim:"IF",args:[[{prim:"PUSH",args:[{prim:"nat"},{int:"3"}]},{prim:"DIP",args:[{int:"1"},[{prim:"DIG",args:[{int:"1"}]},{prim:"DROP",args:[{int:"1"}]}]]},{prim:"DUG",args:[{int:"1"}]}],[]]}],[{prim:"PUSH",args:[{prim:"string"},{string:"InvalidState"}]},{prim:"FAILWITH"}]]},{prim:"DROP",args:[{int:"1"}]},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"DIG",args:[{int:"1"}]},{prim:"PAIR"}]]}]]}]]}]]}],_e=function(e){var t=q(),r=t.zcbState,n=t.isReady,a=t.setContractAddress,s=(t.addTimeline,A()),c=D();return""===r.contractAddress?Object(i.jsxs)(h.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",style:{height:"100%"},spacing:3,children:[Object(i.jsx)(h.a,{item:!0,children:Object(i.jsx)(b.a,{variant:"h6",style:{fontWeight:"bold",marginLeft:"24px"},children:"Zero-coupon bond"})}),Object(i.jsx)(h.a,{item:!0,children:Object(i.jsx)(Ce.a,{orientation:"vertical",flexItem:!0,style:{height:"64px"}})}),Object(i.jsx)(h.a,{item:!0,children:Object(i.jsx)(ge.a,{color:"disabled"})}),Object(i.jsx)(h.a,{item:!0,children:Object(i.jsx)(xe.a,{color:"disabled"})}),Object(i.jsx)(h.a,{item:!0,children:Object(i.jsx)(Oe.a,{color:"disabled"})}),Object(i.jsx)(h.a,{item:!0,children:Object(i.jsx)(Ce.a,{orientation:"vertical",flexItem:!0,style:{height:"64px"}})}),Object(i.jsx)(h.a,{item:!0,children:Object(i.jsx)(Pe.a,{color:"disabled"})}),Object(i.jsx)(h.a,{item:!0,children:Object(i.jsx)(Ae.a,{color:"disabled"})}),Object(i.jsx)(h.a,{item:!0,children:Object(i.jsx)(Re.a,{color:"disabled"})}),Object(i.jsx)(h.a,{item:!0,children:Object(i.jsx)(Ce.a,{orientation:"vertical",flexItem:!0,style:{height:"64px"}})}),Object(i.jsx)(h.a,{item:!0,children:Object(i.jsx)(ve.a,{color:"disabled"})}),Object(i.jsx)(h.a,{item:!0,children:Object(i.jsx)(ke.a,{color:"disabled"})}),Object(i.jsx)(h.a,{item:!0,children:Object(i.jsx)(Ce.a,{orientation:"vertical",flexItem:!0,style:{height:"64px"}})}),Object(i.jsx)(h.a,{item:!0,children:Object(i.jsx)(Ue.a,{color:"disabled"})}),Object(i.jsx)(h.a,{item:!0,children:Object(i.jsx)(Ne.a,{color:"disabled"})}),Object(i.jsx)(h.a,{item:!0,children:Object(i.jsx)(Ce.a,{orientation:"vertical",flexItem:!0,style:{height:"64px"}})}),Object(i.jsx)(h.a,{item:!0,children:Object(i.jsx)(g.a,{disabled:!n()||!c,variant:"contained",color:"primary",disableElevation:!0,onClick:function(){var t,i,n,c,o,p,l,m,d,u;s.wallet.originate({code:ze,init:(t=r.contractInfo.issueraccount,i=r.contractInfo.subscriberaccount,n=1e6*r.contractInfo.faceprice,d=parseInt(r.contractInfo.discount),u=100,c={prim:"Pair",args:[{int:d.toString()},{int:u.toString()}]},o=60*r.contractInfo.duration,p=60*r.contractInfo.period,l=!1,m=!1,{prim:"Pair",args:[{string:t},{prim:"Pair",args:[{string:i},{prim:"Pair",args:[{int:n.toString()},{prim:"Pair",args:[c,{prim:"Pair",args:[{int:o.toString()},{prim:"Pair",args:[{int:p.toString()},{prim:"Pair",args:[l?{prim:"True"}:{prim:"False"},{prim:"Pair",args:[m?{prim:"True"}:{prim:"False"},{prim:"Pair",args:[{prim:"None"},{int:"0"}]}]}]}]}]}]}]}]}]})}).send().then((function(t){return console.log("Waiting for confirmation of origination..."),e.openSnack(),t.contract()})).then((function(t){e.closeSnack(),a(t.address),console.log("Origination completed for ".concat(t.address,"."))})).catch((function(e){return console.log("Error: ".concat(JSON.stringify(e,null,2)))}))},children:"issue contract"})})]}):Object(i.jsxs)(h.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",style:{height:"100%"},spacing:3,children:[Object(i.jsx)(h.a,{item:!0,children:Object(i.jsx)(b.a,{variant:"h6",style:{fontWeight:"bold",marginLeft:"24px"},children:"Zero-coupon bond"})}),Object(i.jsx)(h.a,{item:!0,children:Object(i.jsx)(Ce.a,{orientation:"vertical",flexItem:!0,style:{height:"64px"}})}),Object(i.jsx)(h.a,{item:!0,children:Object(i.jsx)(b.a,{children:"Contract is active at address"})}),Object(i.jsx)(h.a,{item:!0,children:Object(i.jsx)("a",{style:{textDecoration:"none"},href:z+"/"+r.contractAddress+"/operations",target:"_blank",children:Object(i.jsx)(J.a,{label:r.contractAddress,variant:"outlined",color:"primary",onClick:function(){}})})}),Object(i.jsx)(h.a,{item:!0,children:Object(i.jsx)(Ce.a,{orientation:"vertical",flexItem:!0,style:{height:"64px"}})}),Object(i.jsx)(h.a,{item:!0,children:Object(i.jsx)(Le.a,{})}),Object(i.jsx)(h.a,{item:!0,children:Object(i.jsx)(Ge.a,{})}),Object(i.jsx)(h.a,{item:!0,children:Object(i.jsx)(Ce.a,{orientation:"vertical",flexItem:!0,style:{height:"64px"}})})]})},He=r(366),$e=r(362),Be=r(365),Me=r(161),Ze=r.n(Me),Qe=r(162),Ve=r.n(Qe),qe=r(363),Je=r(357),Ke=r(358),Xe=r(360),Ye=r(361),et=r(359),tt=r(160),rt=r.n(tt),it=Object(_.a)((function(e){return{textfield:{fontSize:"10px"},input:{fontFamily:"Courier Prime, monospace",fontSize:"14px"}}})),nt=function(e){var t=a.a.useState(0),r=Object(m.a)(t,2),n=r[0],s=r[1],c=it(),o=q(),p=o.zcbState,l=o.setContractInfo,d=function(e){var t=p.contractInfo,r=e.target.value;switch(e.target.id){case"issuer-name":t.issuer=r;break;case"issuer-account":t.issueraccount=r;break;case"subscriber-name":t.subscriber=r;break;case"subscriber-account":t.subscriberaccount=r;break;case"face-value":t.faceprice=parseInt(r)>=0?parseInt(r).toString():"0";break;case"discount-rate":t.discount=parseInt(r)>=0?r:"0";break;case"duration":t.duration=parseInt(r)>=0?r:"0";break;case"transfer-period":t.period=parseInt(r)>=0?r:"0"}l(t)},u=p.timeline.map((function(e){return Object(i.jsxs)(Je.a,{children:[Object(i.jsxs)(Ke.a,{children:[Object(i.jsx)(et.a,{variant:"outlined",color:"primary"}),Object(i.jsx)(Xe.a,{})]}),Object(i.jsxs)(Ye.a,{style:{flex:200},children:[Object(i.jsx)(b.a,{color:"textSecondary",children:e.date}),void 0!==e.ophash?Object(i.jsx)("a",{style:{textDecoration:"none"},href:z+"/opg/"+e.ophash+"/contents",target:"_blank",children:Object(i.jsxs)(b.a,{style:{color:"black"},children:[e.label," ",Object(i.jsx)(rt.a,{style:{position:"relative",top:"4px"},fontSize:"small"})]})}):Object(i.jsx)(b.a,{children:e.label})]})]})})),j=""!==p.contractAddress;return Object(i.jsxs)(h.a,{container:!0,direction:"row",children:[Object(i.jsx)(h.a,{item:!0,xs:12,style:{position:"relative",top:"-6px"},children:Object(i.jsxs)(He.a,{value:n,onChange:function(e,t){s(t)},"aria-label":"simple tabs example",color:"primary",indicatorColor:"primary",children:[Object(i.jsx)($e.a,{label:"Data",icon:Object(i.jsx)(Ze.a,{})}),Object(i.jsx)($e.a,{label:"Timeline",icon:Object(i.jsx)(Ve.a,{})})]})}),0===n?Object(i.jsx)(h.a,{item:!0,xs:12,children:Object(i.jsxs)(h.a,{container:!0,direction:"row",style:{padding:24},spacing:2,children:[Object(i.jsx)(h.a,{item:!0,xs:12,children:Object(i.jsx)(Be.a,{disabled:j,size:"small",onChange:d,id:"issuer-name",label:"Issuer name",fullWidth:!0,value:p.contractInfo.issuer,className:c.textfield,InputProps:{classes:{input:c.input}}})}),Object(i.jsx)(h.a,{item:!0,xs:12,children:Object(i.jsx)(Be.a,{disabled:j,size:"small",onChange:d,id:"issuer-account",label:"Issuer account",fullWidth:!0,value:p.contractInfo.issueraccount,InputProps:{classes:{input:c.input}}})}),Object(i.jsx)(h.a,{item:!0,xs:12,children:Object(i.jsx)(Be.a,{disabled:j,size:"small",onChange:d,id:"subscriber-name",label:"Subscriber name",fullWidth:!0,value:p.contractInfo.subscriber,InputProps:{classes:{input:c.input}}})}),Object(i.jsx)(h.a,{item:!0,xs:12,children:Object(i.jsx)(Be.a,{disabled:j,size:"small",onChange:d,id:"subscriber-account",label:"Subscriber account",fullWidth:!0,value:p.contractInfo.subscriberaccount,InputProps:{classes:{input:c.input}}})}),Object(i.jsx)(h.a,{item:!0,xs:12,children:Object(i.jsx)(Be.a,{disabled:j,size:"small",onChange:d,id:"face-value",label:"Face value",fullWidth:!0,value:p.contractInfo.faceprice,InputProps:{classes:{input:c.input}}})}),Object(i.jsx)(h.a,{item:!0,xs:12,children:Object(i.jsx)(Be.a,{disabled:j,size:"small",onChange:d,id:"discount-rate",label:"Discount rate (in %)",type:"number",value:p.contractInfo.discount,fullWidth:!0,InputProps:{classes:{input:c.input}}})}),Object(i.jsx)(h.a,{item:!0,xs:12,children:Object(i.jsx)(Be.a,{disabled:j,size:"small",onChange:d,id:"duration",label:"Duration (in minutes)",type:"number",fullWidth:!0,value:p.contractInfo.duration,InputProps:{classes:{input:c.input}}})}),Object(i.jsx)(h.a,{item:!0,xs:12,children:Object(i.jsx)(Be.a,{disabled:j,size:"small",onChange:d,id:"transfer-period",label:"Payback period (in minutes)",type:"number",fullWidth:!0,value:p.contractInfo.period,InputProps:{classes:{input:c.input}}})})]})}):Object(i.jsx)(qe.a,{children:u})]})},at=function(e,t){return e.contractInfo.issueraccount==t?e.contractInfo.issuer:e.contractInfo.subscriber},st={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};function ct(e){var t=Object(n.useState)(null),r=Object(m.a)(t,2),i=r[0],a=r[1],s=q(),c=s.zcbState,o=s.addTimeline;function d(){return(d=Object(l.a)(p.a.mark((function e(t,r){var i,n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),i=JSON.parse(r).operations,console.log("indexer returns ".concat(i.length," operations")),!(i.length+1>c.timeline.length)){e.next=22;break}if("transaction"!==i[0].kind){e.next=21;break}e.t0=i[0].entrypoint,e.next="sign"===e.t0?8:"terminate"===e.t0?12:"dispute"===e.t0?15:18;break;case 8:return n=at(c,i[0].source),a={date:new Intl.DateTimeFormat("en-GB",st).format(Date.now()),type:"signature",label:"Signed by "+n,signer:n,ophash:i[0].hash},o(a),e.abrupt("break",19);case 12:return a={date:new Intl.DateTimeFormat("en-GB",st).format(Date.now()),type:"termination",label:"Terminated",ophash:i[0].hash},o(a),e.abrupt("break",19);case 15:return a={date:new Intl.DateTimeFormat("en-GB",st).format(Date.now()),type:"disputation",label:"Disputed",ophash:i[0].hash},o(a),e.abrupt("break",19);case 18:console.log("unknow transaction!");case 19:e.next=22;break;case 21:"origination"===i[0].kind&&(a={date:new Intl.DateTimeFormat("en-GB",st).format(Date.now()),type:"origination",label:"Issued",ophash:i[0].hash},o(a));case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){if(""!==e){var t=setTimeout((function(){var t=new XMLHttpRequest;t.onreadystatechange=function(){4===t.readyState&&200===t.status&&function(e,t){d.apply(this,arguments)}(i,t.responseText)},t.open("GET",function(e){return"https://api.better-call.dev/v1/contract/florencenet/"+e+"/operations"}(e),!0),t.send(null),a(Date.now())}),5e3);return function(){return clearTimeout(t)}}})),null}var ot=Object(_.a)((function(e){return{root:{display:"flex"},drawer:{width:320,flexShrink:0},drawerPaper:{width:320},drawerContainer:{overflow:"auto"},content:{flexGrow:1}}}));function pt(){var e=ot(),t=R(),r=a.a.useState(!1),n=Object(m.a)(r,2),s=n[0],c=n[1],o=q().zcbState,d=a.a.useMemo((function(){return Object(U.a)()}),[!1]),j=a.a.useCallback(Object(l.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t(L);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),alert(e.t0.message);case 8:case 9:case"end":return e.stop()}}),e,null,[[0,5]])}))),[t]);console.log("margin: ".concat("320px"));return ct(o.contractAddress),Object(i.jsxs)("div",{className:e.root,children:[Object(i.jsx)(W.a,{}),Object(i.jsx)(w,{appTitle:"Issue a financial contract!",handleConnect:j,theme:d}),Object(i.jsxs)("main",{className:e.content,children:[Object(i.jsx)(u.a,{}),Object(i.jsxs)(h.a,{container:!0,style:{padding:0},justify:"center",alignItems:"center",children:[Object(i.jsx)(h.a,{item:!0,xs:12,children:Object(i.jsx)(u.a,{style:{position:"fixed",width:"100%",padding:0,height:"65px",zIndex:1e3},children:Object(i.jsx)($.a,{style:{width:"100%",height:"65px"},square:!0,variant:"outlined",elevation:0,children:Object(i.jsx)(_e,{openSnack:function(){c(!0)},closeSnack:function(){c(!1)}})})})}),Object(i.jsxs)(h.a,{item:!0,children:[" ",Object(i.jsx)(b.a,{style:{width:"320px"}})]}),Object(i.jsx)(h.a,{item:!0,xs:6,style:{paddingTop:"120px"},children:Object(i.jsx)(be,{})})]}),Object(i.jsxs)(h.a,{item:!0,xs:12,children:[Object(i.jsx)(u.a,{}),Object(i.jsx)(u.a,{})]})]}),Object(i.jsx)(E,{open:s,theme:d}),Object(i.jsxs)(H.a,{className:e.drawer,variant:"permanent",classes:{paper:e.drawerPaper},anchor:"right",children:[Object(i.jsx)(u.a,{}),Object(i.jsx)("div",{className:e.drawerContainer,children:Object(i.jsx)(nt,{})})]})]})}var lt=function(){return Object(i.jsx)(P,{appName:"BondCorp.",children:Object(i.jsx)(V,{children:Object(i.jsx)(a.a.Suspense,{fallback:null,children:Object(i.jsx)(pt,{})})})})},mt=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,372)).then((function(t){var r=t.getCLS,i=t.getFID,n=t.getFCP,a=t.getLCP,s=t.getTTFB;r(e),i(e),n(e),a(e),s(e)}))};c.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(lt,{})}),document.getElementById("root")),mt()}},[[292,1,2]]]);
//# sourceMappingURL=main.115d9790.chunk.js.map