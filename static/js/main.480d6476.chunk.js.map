{"version":3,"sources":["archetype.js","dapp.js","components/HeaderBar.js","components/SnackMsg.js","settings.js","ZCBState.js","components/Annex.js","components/ContractPaper.js","contract.js","components/EditorBar.js","components/ContractSidebar.js","indexer.js","App.js","reportWebVitals.js","index.js"],"names":["archetype","Prism","languages","extend","clike","pattern","lookbehind","keyword","number","function","operator","insertBefore","regex","greedy","inside","alias","parameter","constant","interpolation","rest","string","markup","tag","addInlined","js","module","exports","displayName","aliases","constate","appName","React","useState","wallet","tezos","accountPkh","setState","ready","Boolean","useEffect","ThanosWallet","onAvailabilityChange","available","connect","useCallback","network","opts","a","Error","tzs","toTezos","pkh","alert","message","v","DAppProvider","useWallet","useTezos","useReady","useConnect","HeaderBar","props","visible","useMediaQuery","theme","palette","type","AppBar","position","style","zIndex","boxShadow","Toolbar","Typography","variant","color","fontFamily","Grid","container","justify","alignItems","item","visibility","textAlign","appTitle","Button","disableElevation","size","right","onClick","handleConnect","Link","href","rel","underline","backgroundColor","fontWeight","Alert","elevation","SnackMsg","Snackbar","open","severity","primary","main","options","year","month","day","hour","minute","second","hour12","contractInfo","issuer","issueraccount","subscriber","subscriberaccount","faceprice","discount","duration","period","contractState","contractAddress","signers","timeline","date","Intl","DateTimeFormat","format","Date","now","label","zcbState","setZcbState","isCreated","setContractInfo","ci","zcb","constractState","isReady","setContractAddress","ca","addTimeline","event","ZCBProvider","useZCBStateContext","Pre","styled","pre","Line","div","LineNo","span","LineContent","Annex","SignCode","Paper","square","direction","paddingBottom","xs","paddingTop","paddingLeft","paddingRight","minWidth","ref","annex2Ref","paragraph","annex3Ref","defaultProps","dracula","code","language","className","tokens","getLineProps","getTokenProps","map","line","i","key","token","annex4Ref","annex5Ref","useStyles","makeStyles","display","border","borderColor","borderRadius","fontSize","height","filledtag","MainPaper","classes","emptyissuer","emptyissueraccount","emptysubscriber","emptysubscriberaccount","facevalue","emptyfacevalue","emptydiscount","emptyduration","emptyperiod","align","component","annex1Ref","current","scrollIntoView","filter","e","textDecoration","ophash","target","Chip","signer","marginRight","ContractPaper","useRef","annex6Ref","row","ZCBContractCode","EditorBar","spacing","marginLeft","Divider","orientation","flexItem","disabled","discountnum","discountden","originate","init","parseInt","toString","send","then","op","console","log","openSnack","contract","closeSnack","address","catch","error","JSON","stringify","textfield","input","ContractSideBar","value","setValue","handletextfield","info","id","timelineItems","element","TimelineItem","TimelineSeparator","TimelineDot","TimelineConnector","TimelineContent","flex","undefined","top","Tabs","onChange","newValue","aria-label","indicatorColor","Tab","icon","padding","TextField","fullWidth","InputProps","Timeline","addressToName","state","useIndexer","time","setTime","response","operations","parse","length","kind","entrypoint","source","hash","timer","setTimeout","xmlHttp","XMLHttpRequest","onreadystatechange","readyState","status","handleResponse","responseText","getUrl","clearTimeout","root","drawer","width","flexShrink","drawerPaper","drawerContainer","overflow","content","flexGrow","PageRouter","setOpen","useMemo","createMuiTheme","drawerWidth","CssBaseline","Drawer","paper","anchor","App","Suspense","fallback","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.480d6476.chunk.js","sourcesContent":["module.exports = archetype\narchetype.displayName = 'archetype'\narchetype.aliases = ['arl']\nfunction archetype(Prism) {\n  Prism.languages.archetype = Prism.languages.extend('clike', {\n    'class-name': [\n      Prism.languages.clike['class-name'],\n      {\n        pattern: /(^|[^$\\w\\xA0-\\uFFFF])[_$A-Z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*(?=\\.(?:prototype|constructor))/,\n        lookbehind: true\n      }\n    ],\n    keyword: [\n      {\n        pattern: /((?:^|})\\s*)(?:catch|finally)\\b/,\n        lookbehind: true\n      },\n      {\n        pattern: /(^|[^.]|\\.\\.\\.\\s*)\\b(?:as|asset|identified|by|to|let|else|when|matchself|match_option|now|none|transition|from|called|some|in|otherwise|entry|specification|before|initialized|forall|removed|added|and|fails|with|require|if|then|effect|var|dofailif|dorequire|begin|end|transfer|contract|getter|return)\\b/,\n        lookbehind: true\n      }\n    ],\n    number: /\\b(?:(?:0[xX](?:[\\dA-Fa-f](?:_[\\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\\d(?:_\\d)?)+n|NaN|Infinity)\\b|(?:\\b(?:\\d(?:_\\d)?)+\\.?(?:\\d(?:_\\d)?)*|\\B\\.(?:\\d(?:_\\d)?)+)(?:[Ee][+-]?(?:\\d(?:_\\d)?)+)?/,\n    // Allow for all non-ASCII characters (See http://stackoverflow.com/a/2008444)\n    function: /#?[_$a-zA-Z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*(?=\\s*(?:\\.\\s*(?:apply|bind|call)\\s*)?\\()/,\n    operator: /--|\\+\\+|\\*\\*=?|=>|&&=?|\\|\\|=?|[!=]==|and|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\\.{3}|\\?\\?=?|\\?\\.?|[~:]/\n  })\n  Prism.languages.archetype[\n    'class-name'\n  ][0].pattern = /(\\b(?:entry|getter|variable|constant|asset)\\s+)[\\w.\\\\]+/\n  Prism.languages.insertBefore('archetype', 'keyword', {\n    regex: {\n      pattern: /((?:^|[^$\\w\\xA0-\\uFFFF.\"'\\])\\s]|\\b(?:return|yield))\\s*)\\/(?:\\[(?:[^\\]\\\\\\r\\n]|\\\\.)*]|\\\\.|[^/\\\\\\[\\r\\n])+\\/[gimyus]{0,6}(?=(?:\\s|\\/\\*(?:[^*]|\\*(?!\\/))*\\*\\/)*(?:$|[\\r\\n,.;:})\\]]|\\/\\/))/,\n      lookbehind: true,\n      greedy: true,\n      inside: {\n        'regex-source': {\n          pattern: /^(\\/)[\\s\\S]+(?=\\/[a-z]*$)/,\n          lookbehind: true,\n          alias: 'language-regex',\n          inside: Prism.languages.regex\n        },\n        'regex-flags': /[a-z]+$/,\n        'regex-delimiter': /^\\/|\\/$/\n      }\n    },\n    // This must be declared before keyword because we use \"function\" inside the look-forward\n    'function-variable': {\n      pattern: /#?[_$a-zA-Z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*(?=\\s*[=:]\\s*(?:async\\s*)?(?:\\bfunction\\b|(?:\\((?:[^()]|\\([^()]*\\))*\\)|[_$a-zA-Z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*)\\s*=>))/,\n      alias: 'function'\n    },\n    parameter: [\n      {\n        pattern: /(function(?:\\s+[_$A-Za-z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*)?\\s*\\(\\s*)(?!\\s)(?:[^()]|\\([^()]*\\))+?(?=\\s*\\))/,\n        lookbehind: true,\n        inside: Prism.languages.archetype\n      },\n      {\n        pattern: /[_$a-z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*(?=\\s*=>)/i,\n        inside: Prism.languages.archetype\n      },\n      {\n        pattern: /(\\(\\s*)(?!\\s)(?:[^()]|\\([^()]*\\))+?(?=\\s*\\)\\s*=>)/,\n        lookbehind: true,\n        inside: Prism.languages.archetype\n      },\n      {\n        pattern: /((?:\\b|\\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\\w\\xA0-\\uFFFF]))(?:[_$A-Za-z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*\\s*)\\(\\s*|\\]\\s*\\(\\s*)(?!\\s)(?:[^()]|\\([^()]*\\))+?(?=\\s*\\)\\s*\\{)/,\n        lookbehind: true,\n        inside: Prism.languages.archetype\n      }\n    ],\n    constant: /\\b[A-Z](?:[A-Z_]|\\dx?)*\\b/\n  })\n  Prism.languages.insertBefore('archetype', 'string', {\n    'template-string': {\n      pattern: /`(?:\\\\[\\s\\S]|\\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}|(?!\\${)[^\\\\`])*`/,\n      greedy: true,\n      inside: {\n        'template-punctuation': {\n          pattern: /^`|`$/,\n          alias: 'string'\n        },\n        interpolation: {\n          pattern: /((?:^|[^\\\\])(?:\\\\{2})*)\\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}/,\n          lookbehind: true,\n          inside: {\n            'interpolation-punctuation': {\n              pattern: /^\\${|}$/,\n              alias: 'punctuation'\n            },\n            rest: Prism.languages.archetype\n          }\n        },\n        string: /[\\s\\S]+/\n      }\n    }\n  })\n  if (Prism.languages.markup) {\n    Prism.languages.markup.tag.addInlined('script', 'archetype')\n  }\n  Prism.languages.js = Prism.languages.archetype\n}","import React from 'react';\nimport constate from 'constate';\nimport { ThanosWallet } from '@thanos-wallet/dapp';\n\nexport const [\n  DAppProvider,\n  useWallet,\n  useTezos,\n  useAccountPkh,\n  useReady,\n  useConnect,\n] = constate(\n  useDApp,\n  (v) => v.wallet,\n  (v) => v.tezos,\n  (v) => v.accountPkh,\n  (v) => v.ready,\n  (v) => v.connect\n);\n\nfunction useDApp({ appName }) {\n  const [{ wallet, tezos, accountPkh }, setState] = React.useState(() => ({\n    wallet: null,\n    tezos: null,\n    accountPkh: null,\n  }));\n\n  const ready = Boolean(tezos);\n\n  React.useEffect(() => {\n    return ThanosWallet.onAvailabilityChange((available) => {\n      setState({\n        wallet: available ? new ThanosWallet(appName) : null,\n        tezos: null,\n        accountPkh: null,\n      });\n    });\n  }, [setState, appName]);\n\n  const connect = React.useCallback(\n    async (network, opts) => {\n      try {\n        if (!wallet) {\n          throw new Error('Thanos Wallet not available');\n        }\n        await wallet.connect(network, opts);\n        const tzs = wallet.toTezos();\n        const pkh = await tzs.wallet.pkh();\n        setState({\n          wallet,\n          tezos: tzs,\n          accountPkh: pkh,\n        });\n      } catch (err) {\n        alert(`Failed to connect ThanosWallet: ${err.message}`);\n      }\n    },\n    [setState, wallet]\n  );\n\n  return {\n    wallet,\n    tezos,\n    accountPkh,\n    ready,\n    connect,\n  };\n}\n\nexport function useOnBlock(tezos, callback) {\n  const blockHashRef = React.useRef();\n\n  React.useEffect(() => {\n    let sub;\n    spawnSub();\n    return () => sub.close();\n\n    function spawnSub() {\n      sub = tezos.stream.subscribe('head');\n\n      sub.on('data', (hash) => {\n        if (blockHashRef.current && blockHashRef.current !== hash) {\n          callback(hash);\n        }\n        blockHashRef.current = hash;\n      });\n      sub.on('error', (err) => {\n        if (process.env.NODE_ENV === 'development') {\n          console.error(err);\n        }\n        sub.close();\n        spawnSub();\n      });\n    }\n  }, [tezos, callback]);\n}","import React from 'react';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport '../index.css';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport Button from '@material-ui/core/Button';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport { useReady, useWallet } from '../dapp';\n\nconst HeaderBar = (props) => {\n  const ready = useReady();\n  const wallet = useWallet();\n  const minWidth = useMediaQuery('(min-width:600px)');\n  var visible = minWidth?'visible':'hidden';\n  var dark = props.theme.palette.type === 'dark';\n  return (\n    <AppBar position=\"fixed\" style={{\n        zIndex: 10000,\n        boxShadow: 'none'\n        }}\n      >\n        <Toolbar>\n        <Typography variant=\"h6\" style={{ color: 'white', position: 'absolute', fontFamily : 'Alegreya Sans SC, sans-serif' }}>\n          Completium\n        </Typography>\n        <Grid container justify=\"center\" alignItems=\"center\">\n          <Grid item>\n            <Typography variant=\"h6\" style={{\n              visibility: visible,\n              textAlign: 'center',\n              color: 'white'\n              }}>\n              {props.appTitle}\n            </Typography>\n          </Grid>\n        </Grid>\n        { ready? (\n            <div></div>\n          ): (wallet? (\n            <Button variant=\"contained\" color=\"primary\"\n              disableElevation\n              size=\"small\"\n              style={{ position: 'absolute', right: '1%' }}\n              onClick={props.handleConnect}>\n              connect to wallet\n            </Button>\n          ):(\n            <Link href=\"https://thanoswallet.com/\" rel=\"noopener\" underline=\"none\" style={{\n              position: 'absolute',\n              right: '1%'\n            }}>\n              <Button variant=\"contained\" size=\"small\" disableElevation\n                style={{\n                  backgroundColor: '#ed8936',\n                  color: 'white',\n                  fontWeight: 'bold',\n                   }}>\n                Install Thanos\n              </Button>\n            </Link>\n          ))}\n      </Toolbar>\n      </AppBar>\n  )\n}\n\nexport default HeaderBar","import React from 'react';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport MuiAlert from '@material-ui/lab/Alert';\n\nfunction Alert(props) {\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}\n\nconst SnackMsg = (props) => {\n    return (\n      <Snackbar open={props.open} >\n        <Alert severity=\"info\" style={{\n            backgroundColor: props.theme.palette.primary.main\n        }}>\n          Waiting for operation confirmation ...\n        </Alert>\n      </Snackbar>)\n}\n\nexport default SnackMsg","export const appTitle = \"Issue a financial contract!\"\n\nexport const network = \"delphinet\"\n\nexport const appName = \"BondCorp.\"\n","import { useState } from 'react';\nimport constate from \"constate\";\n\nconst options = {year: \"numeric\", month: \"numeric\", day: \"numeric\",\nhour: \"numeric\", minute: \"numeric\", second: \"numeric\",\nhour12: false};\n\nexport function useZCBState() {\n  const [zcbState, setZcbState] = useState({\n    contractInfo : {\n      issuer        : '',\n      issueraccount : '',\n      subscriber    : '',\n      subscriberaccount: '',\n      faceprice : '0',\n      discount  : '0',\n      duration  : '0',\n      period    : '0',\n    },\n    contractState   : 'notcreated',\n    contractAddress : '',\n    signers         : [],\n    timeline        : [\n      { date: new Intl.DateTimeFormat('en-GB',options).format(Date.now()), type:'editionclosed', label: 'Edition closed' },\n      /* { date: new Intl.DateTimeFormat('en-GB',options).format(Date.now()), type:'signature', label: 'Signed by Benoit Rognier', signer: 'Benoit Rognier', ophash: 'op' },\n      { date: new Intl.DateTimeFormat('en-GB',options).format(Date.now()), type:'signature', label: 'Signed by Jean Claude Van Damme', signer:'Jean Claude Van Damme', ophash: 'op'}, */\n\n    ]\n  });\n  const isReady = () => {\n    return (zcbState.contractInfo.issuer            !== ''  &&\n            zcbState.contractInfo.issueraccount     !== ''  &&\n            zcbState.contractInfo.subscriber        !== ''  &&\n            zcbState.contractInfo.subscriberaccount !== ''  &&\n            zcbState.contractInfo.faceprice         !== '0' &&\n            zcbState.contractInfo.discount          !== '0' &&\n            zcbState.contractInfo.duration          !== '0' &&\n            zcbState.contractInfo.period            !== '0');\n  }\n  const isCreated = () => {\n    if (zcbState.contractState === 'notcreated') {\n      return false;\n    }\n    return true;\n  }\n  const setContractInfo = (ci) => { setZcbState(zcb => { return {\n    contractInfo     : ci,\n    contractState    : zcb.constractState,\n    contractAddress  : zcb.contractAddress,\n    signers          : zcb.signers,\n    timeline         : zcb.timeline\n  }; })}\n  const setContractAddress = (ca) => { setZcbState(zcb => { return {\n    contractInfo     : zcb.contractInfo,\n    contractState    : zcb.constractState,\n    contractAddress  : ca,\n    signers          : zcb.signers,\n    timeline         : zcb.timeline\n  }; })}\n  const addTimeline = (event) => { setZcbState(zcb => { return {\n    contractInfo     : zcb.contractInfo,\n    contractState    : zcb.constractState,\n    contractAddress  : zcb.contractAddress,\n    signers          : zcb.signers,\n    timeline         : [ ...zcb.timeline, event ]\n  }; })}\n  return { zcbState, setZcbState, isCreated, setContractInfo, isReady, setContractAddress, addTimeline };\n}\n\nexport const [ZCBProvider, useZCBStateContext] = constate(useZCBState);","import Typography from '@material-ui/core/Typography';\nimport Paper from '@material-ui/core/Paper';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Highlight, { defaultProps } from \"prism-react-renderer\";\nimport dracula from 'prism-react-renderer/themes/github';\n/* import dracula from 'prism-react-renderer/themes/vsDark';\n */import styled from \"styled-components\";\nimport Prism from 'prism-react-renderer/prism';\nimport archetype from '../archetype';\n\n/* Object.setPrototypeOf(refractor, Prism);\nrefractor.register(typescriptLang); */\narchetype(Prism);\n\nconst Pre = styled.pre`\n  text-align: left;\n  margin: 1em 0;\n  padding: 0.5em;\n  overflow: scroll;\n`;\n\nconst Line = styled.div`\n  display: flow-root;\n`;\n\nconst LineNo = styled.span`\n  display: table-cell;\n  text-align: right;\n  padding-right: 1em;\n  user-select: none;\n  opacity: 1;\n  padding-left: 48px;\n`;\n\nconst LineContent = styled.span`\n  display: table-cell;\n  font-size: 15px;\n`;\n\nconst Annex = (props) => {\n  const SignCode = \"entry sign () { \\n\\\n    if caller = issuer then \\n\\\n      issuersigned := true \\n\\\n    else if caller = subscriber then begin \\n\\\n      subscribersigned := true; \\n\\\n      var presentvalue = discount * facevalue; \\n\\\n      dorequire(transferred >= presentvalue, \\n\\\n               \\\"SUBSCRIBER_INVALID_TRANSFER\\\"); \\n\\\n      transfer presentvalue to issuer; \\n\\\n    end \\\n    else fail(\\\"CALLER_NOT_A_SIGNER\\\"); \\n\\\n    if issuersigned and subscribersigned then \\n\\\n      transfer 0tz to entry self.toSigned(); \\n\\\n}\";\n  const toSignedCode = \"transition toSigned() { \\n\\\n    called by selfaddress\\n\\\n    from Created to Signed with effect {\\n\\\n      signaturedate := some(now)\\n\\\n    }\\n\\\n}\";\n  const terminateCode = \"transition terminate () {\\n\\\n    called by issuer\\n\\\n    from Signed to Terminated when {\\n\\\n      match_option signaturedate with\\n\\\n      | some(d) ->\\n\\\n        d + maturityduration <= now and \\n\\\n        now <= d + maturityduration + paybackduration and\\n\\\n        transferred >= facevalue\\n\\\n      | none -> false\\n\\\n      end\\n\\\n    } with effect {\\n\\\n      transfer facevalue to subscriber\\n\\\n    }\\n\\\n}\";\n  const disputeCode = \"transition dispute () {\\n\\\n    called by subscriber\\n\\\n    from Signed to Disputed when {\\n\\\n      match_option signaturedate with\\n\\\n      | some(d) ->\\n\\\n        d + maturityduration + paybackduration <=  now\\n\\\n      | none -> false\\n\\\n      end\\n\\\n    }\\n\\\n}\";\n  const storageCode = \"variable issuer     : role = @tz1bfVgcJC4ukaQSHUe1EbrUd5SekXeP9CWk\\n\\\n  \\n\\\n  variable subscriber : role = @tz1Lc2qBKEWCBeDU8npG6zCeCqpmaegRi6Jg\\n\\\n  \\n\\\n  variable facevalue : tez = 10tz\\n\\\n  \\n\\\n  variable discount : rational = 14%\\n\\\n  \\n\\\n  variable maturityduration : duration = 1m\\n\\\n  \\n\\\n  variable paybackduration  : duration = 1m\\n\\\n  \\n\\\n  variable issuersigned     : bool = false\\n\\\n  variable subscribersigned : bool = false\\n\\\n  variable signaturedate    : option<date> = none\\n\\\n  \";\n  return (\n    <Paper square>\n      <Grid container direction='row' style={{ paddingBottom: '40px', }}>\n        <Grid item xs={12} style={{ paddingTop: '40px', paddingLeft:'70px', paddingRight: '60px', minWidth: '680px' }}>\n          <div ref={props.annex2Ref}></div>\n          <Typography variant='h6' style={{ fontWeight: 'bold' }}>Annex 1</Typography>\n        </Grid>\n        <Grid item xs={12} style={{ paddingLeft:'70px', paddingRight: '60px', minWidth: '680px' }}>\n          <Typography paragraph>\n            The present value is computed as the multiplication of the discount rate by the face value (see line 6 below).\n          </Typography>\n        </Grid>\n        <Grid item xs={12} style={{ paddingLeft:'70px', paddingRight: '60px', minWidth: '680px' }}>\n          <div ref={props.annex3Ref}></div>\n          <Typography variant='h6' style={{ fontWeight: 'bold' }}>Annex 2</Typography>\n        </Grid>\n        <Grid item xs={12} style={{ paddingLeft:'70px', paddingRight: '60px', minWidth: '680px' }}>\n          <Typography paragraph>\n            The present value is transfered to the issuer during signature by subscriber (see line 8 below).\n          </Typography>\n        </Grid>\n        <Grid item xs={12}>\n        <Highlight Prism={Prism} {...defaultProps} theme={dracula} code={SignCode} language='archetype'>\n          {({ className, style, tokens, getLineProps, getTokenProps }) => (\n            <Pre className={className} style={{ ...style, paddingLeft: 0, paddingRight: 0}}>\n              {tokens.map((line, i) => (\n                <Line key={i} {...getLineProps({ line, key: i })} style={{ backgroundColor: (i===5 || i===8)?'#3f51b52e':'#f6f8fa' }}>\n                  <LineNo>{i + 1}</LineNo>\n                  <LineContent>\n                    {line.map((token, key) => (\n                      <span key={key} {...getTokenProps({ token, key })} />\n                    ))}\n                  </LineContent>\n                </Line>\n              ))}\n           </Pre>\n          )}\n        </Highlight>\n        </Grid>\n        <Grid item xs={12} style={{ paddingLeft:'70px', paddingRight: '60px', minWidth: '680px' }}>\n        <div ref={props.annex4Ref}></div>\n          <Typography variant='h6' style={{ fontWeight: 'bold' }}>Annex 3</Typography>\n        </Grid>\n        <Grid item xs={12} style={{ paddingLeft:'70px', paddingRight: '60px', minWidth: '680px' }}>\n          <Typography paragraph>\n            When issuer and subscriber have signed, the <span style={{ fontFamily: 'Courier Prime, monospace' }}>toSigned</span> entry point is called (see lines 10 and 11 below).\n          </Typography>\n        </Grid>\n        <Grid item xs={12}>\n        <Highlight Prism={Prism} {...defaultProps} theme={dracula} code={SignCode} language=\"archetype\">\n          {({ className, style, tokens, getLineProps, getTokenProps }) => (\n            <Pre className={className} style={{ ...style, paddingLeft: 0, paddingRight: 0}}>\n              {tokens.map((line, i) => (\n                <Line key={i} {...getLineProps({ line, key: i })} style={{ backgroundColor: (i===10 || i===11)?'#3f51b52e':'#f6f8fa' }}>\n                  <LineNo>{i + 1}</LineNo>\n                  <LineContent>\n                    {line.map((token, key) => (\n                      <span key={key} {...getTokenProps({ token, key })} />\n                    ))}\n                  </LineContent>\n                </Line>\n              ))}\n           </Pre>\n          )}\n        </Highlight>\n        </Grid>\n        <Grid item xs={12} style={{ paddingLeft:'70px', paddingRight: '60px', minWidth: '680px' }}>\n          <Typography paragraph>\n            The <span style={{ fontFamily: 'Courier Prime, monospace' }}>toSigned</span> entry point sets the contract signature date to current time (see line 4 below), and sets contract's state to <span style={{ fontFamily: 'Courier Prime, monospace' }}>Signed</span>.\n          </Typography>\n        </Grid>\n        <Grid item xs={12}>\n        <Highlight Prism={Prism} {...defaultProps} theme={dracula} code={toSignedCode} language=\"archetype\">\n          {({ className, style, tokens, getLineProps, getTokenProps }) => (\n            <Pre className={className} style={{ ...style, paddingLeft: 0, paddingRight: 0}}>\n              {tokens.map((line, i) => (\n                <Line key={i} {...getLineProps({ line, key: i })} style={{ backgroundColor: (i===3)?'#3f51b52e':'#f6f8fa' }}>\n                  <LineNo>{i + 1}</LineNo>\n                  <LineContent>\n                    {line.map((token, key) => (\n                      <span key={key} {...getTokenProps({ token, key })} />\n                    ))}\n                  </LineContent>\n                </Line>\n              ))}\n           </Pre>\n          )}\n        </Highlight>\n        </Grid>\n        <Grid item xs={12} style={{ paddingLeft:'70px', paddingRight: '60px', minWidth: '680px' }}>\n        <div ref={props.annex5Ref}></div>\n          <Typography variant='h6' style={{ fontWeight: 'bold' }}>Annex 4</Typography>\n        </Grid>\n        <Grid item xs={12} style={{ paddingLeft:'70px', paddingRight: '60px', minWidth: '680px' }}>\n          <Typography paragraph>\n            The face value must be transfered to the subscriber (see line 12 below) during the payback period after the maturity date (see lines 6 and 7 below).\n          </Typography>\n        </Grid>\n        <Grid item xs={12}>\n        <Highlight Prism={Prism} {...defaultProps} theme={dracula} code={terminateCode} language=\"archetype\">\n          {({ className, style, tokens, getLineProps, getTokenProps }) => (\n            <Pre className={className} style={{ ...style, paddingLeft: 0, paddingRight: 0}}>\n              {tokens.map((line, i) => (\n                <Line key={i} {...getLineProps({ line, key: i })} style={{ backgroundColor: (i===5 || i===6 || i === 11)?'#3f51b52e':'#f6f8fa' }}>\n                  <LineNo>{i + 1}</LineNo>\n                  <LineContent>\n                    {line.map((token, key) => (\n                      <span key={key} {...getTokenProps({ token, key })} />\n                    ))}\n                  </LineContent>\n                </Line>\n              ))}\n           </Pre>\n          )}\n        </Highlight>\n        </Grid>\n        <Grid item xs={12} style={{ paddingLeft:'70px', paddingRight: '60px', minWidth: '680px' }}>\n          <Typography variant='h6' style={{ fontWeight: 'bold' }}>Annex 5</Typography>\n        </Grid>\n        <Grid item xs={12} style={{ paddingLeft:'70px', paddingRight: '60px', minWidth: '680px' }}>\n          <Typography paragraph>\n            Subscriber may open a dispute (see line 3 below) if the contract is still in <span style={{ fontFamily: 'Courier Prime, monospace' }}>Signed</span> state after payback period (see line 6 below).\n          </Typography>\n        </Grid>\n        <Grid item xs={12}>\n        <Highlight Prism={Prism} {...defaultProps} theme={dracula} code={disputeCode} language=\"archetype\">\n          {({ className, style, tokens, getLineProps, getTokenProps }) => (\n            <Pre className={className} style={{ ...style, paddingLeft: 0, paddingRight: 0}}>\n              {tokens.map((line, i) => (\n                <Line key={i} {...getLineProps({ line, key: i })} style={{ backgroundColor: (i===2 || i===5)?'#3f51b52e':'#f6f8fa' }}>\n                  <LineNo>{i + 1}</LineNo>\n                  <LineContent>\n                    {line.map((token, key) => (\n                      <span key={key} {...getTokenProps({ token, key })} />\n                    ))}\n                  </LineContent>\n                </Line>\n              ))}\n           </Pre>\n          )}\n        </Highlight>\n        </Grid>\n        <Grid item xs={12} style={{ paddingLeft:'70px', paddingRight: '60px', minWidth: '680px' }}>\n          <Typography variant='h6' style={{ fontWeight: 'bold' }}>Annex 6</Typography>\n        </Grid>\n        <Grid item xs={12} style={{ paddingLeft:'70px', paddingRight: '60px', minWidth: '680px' }}>\n          <Typography>Links:</Typography>\n        </Grid>\n        <Grid item xs={12} style={{ paddingLeft:'80px', paddingRight: '60px', minWidth: '680px' }}>\n          <Typography>Smart contract's source code</Typography>\n        </Grid>\n        <Grid item xs={12} style={{ paddingLeft:'80px', paddingRight: '60px', minWidth: '680px' }}>\n          <Typography>Archetype language documentation</Typography>\n        </Grid>\n      </Grid>\n    </Paper>\n  )\n}\n\nexport default Annex;","import { React, useRef } from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport Paper from '@material-ui/core/Paper';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useZCBStateContext } from '../ZCBState';\nimport Chip from '@material-ui/core/Chip';\nimport CreateIcon from '@material-ui/icons/Create';\nimport Annex from './Annex';\nimport Grid from '@material-ui/core/Grid';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Link from '@material-ui/core/Link';\nimport { network } from '../settings';\n\nconst useStyles = makeStyles((theme) => ({\n  tag: {\n    display         : 'inline-block',\n    border          : '2px solid',\n    borderColor     : '#1a79b982',\n    borderRadius    : '4px',\n    backgroundColor : '#3f51b52e',\n    fontSize        : '14px',\n    fontFamily      : 'Courier Prime, monospace',\n    paddingLeft     : '8px',\n    paddingRight    : '8px',\n    height          : '22px'\n  },\n  filledtag: {\n    display         : 'inline-block',\n    border          : '2px solid',\n    borderColor     : '#1a79b982',\n    borderRadius    : '4px',\n    fontSize        : '14px',\n    fontFamily      : 'Courier Prime, monospace',\n    paddingLeft     : '8px',\n    paddingRight    : '8px',\n    height          : '22px'\n  },\n  keyword: {\n    fontWeight: 'bold'\n  }\n}));\n\nconst MainPaper = (props) => {\n  const classes = useStyles();\n  const  { zcbState } = useZCBStateContext();\n  const issuer = (zcbState.contractInfo.issuer === '')?'Issuer name':zcbState.contractInfo.issuer;\n  const emptyissuer = (zcbState.contractInfo.issuer === '');\n  const issueraccount = (zcbState.contractInfo.issueraccount === '')?'Issuer account':zcbState.contractInfo.issueraccount;\n  const emptyissueraccount = (zcbState.contractInfo.issueraccount === '');\n  const subscriber = (zcbState.contractInfo.subscriber === '')?'Subscriber name':zcbState.contractInfo.subscriber;\n  const emptysubscriber = (zcbState.contractInfo.subscriber === '');\n  const subscriberaccount = (zcbState.contractInfo.subscriberaccount === '')?'Subscriber account':zcbState.contractInfo.subscriberaccount;\n  const emptysubscriberaccount = (zcbState.contractInfo.subscriberaccount === '');\n  const facevalue = (zcbState.contractInfo.faceprice === '0')?'Face value':zcbState.contractInfo.faceprice+'';\n  const emptyfacevalue = (zcbState.contractInfo.faceprice === '0');\n  const discount = (zcbState.contractInfo.discount === '0')?'Discount rate':zcbState.contractInfo.discount+'%';\n  const emptydiscount = (zcbState.contractInfo.discount === '0');\n  const duration = (zcbState.contractInfo.duration === '0')?'Duration':zcbState.contractInfo.duration+' minutes';\n  const emptyduration = (zcbState.contractInfo.duration === '0');\n  const period = (zcbState.contractInfo.period === '0')?'Payback period':zcbState.contractInfo.period +' minutes';\n  const emptyperiod = (zcbState.contractInfo.period === '0');\n  return (\n    <Paper square style={{ paddingTop: '80px', paddingLeft:'70px', paddingRight: '60px', paddingBottom:'80px', minWidth: '680px' }}>\n      <Typography paragraph align='justify'>\n        This zero-coupon bond is established between the issuer <div className={(emptyissuer)?classes.tag:classes.filledtag}>{issuer}</div>,\n        identified on the Tezos mainnet by account <div className={(emptyissueraccount)?classes.tag:classes.filledtag}>{issueraccount}</div>, and the subscriber <div className={(emptysubscriber)?classes.tag:classes.filledtag}>{subscriber}</div> identified on the Tezos mainnet by account <div className={(emptysubscriberaccount)?classes.tag:classes.filledtag}>{subscriberaccount}</div>.\n      </Typography>\n      <Typography paragraph align='justify'>\n        The issuer and the subscriber agree on the following terms:\n      </Typography>\n      <Typography paragraph align='justify'>\n        The <span className={classes.keyword}>face value</span> of the bond is set to <div className={(emptyfacevalue)?classes.tag:classes.filledtag}>{facevalue}</div>.\n      </Typography>\n      <Typography paragraph align='justify'>\n        The <span className={classes.keyword}>present value</span> of the bond is computed by applying a discount rate of <div className={(emptydiscount)?classes.tag:classes.filledtag}>{discount}</div> to the face value (see <Link component=\"button\" onClick={() => props.annex1Ref.current.scrollIntoView()} color=\"inherit\">Annex 1</Link>).\n      </Typography>\n      <Typography paragraph align='justify'>\n        The subscriber agrees to pay the issuer the present value of the bond to activate the bond (see <Link component=\"button\" onClick={() => props.annex2Ref.current.scrollIntoView()} color=\"inherit\">Annex 2</Link>).\n      </Typography>\n      <Typography paragraph align='justify'>\n        The bond is signed when the issuer and the subscriber have signed the bond (see <Link component=\"button\" onClick={() => props.annex3Ref.current.scrollIntoView()} color=\"inherit\">Annex 3</Link>).\n      </Typography>\n      <Typography paragraph align='justify'>\n        The <span className={classes.keyword}>maturity date</span> of this bond is set to <div className={(emptyduration)?classes.tag:classes.filledtag}>{duration}</div> after the date of signature by both parties.\n        The issuer agrees to pay the face value to the subscriber within a payback period of <div className={(emptyperiod)?classes.tag:classes.filledtag}>{period}</div>  after the maturity date (see <Link component=\"button\" onClick={() => props.annex4Ref.current.scrollIntoView()} color=\"inherit\">Annex 4</Link>).\n      </Typography>\n      <Typography paragraph align='justify'>\n        After that period the subscriber may open a dispute (see <Link component=\"button\" onClick={() => props.annex5Ref.current.scrollIntoView()} color=\"inherit\">Annex 5</Link>).\n      </Typography>\n      {/* <Typography paragraph align='justify'>\n        The issuer may transfer the bond to a third party, without the need for the subscriber to be notified nor give his authorization (see <Link component=\"button\" onClick={() => props.annex6Ref.current.scrollIntoView()} color=\"inherit\">Annex 6</Link>).\n      </Typography> */}\n      <Typography paragraph>\n        Signatures:\n      </Typography>\n      { zcbState.timeline.filter(e => e.type === 'signature').map(e => {\n        return (\n          <a style={{ textDecoration: 'none' }} href={\"https://better-call.dev/\"+network+\"/opg/\"+e.ophash+\"/contents\"} target=\"_blank\">\n            <Chip label={e.signer} variant=\"outlined\" color='primary' onClick={() => {}} style={{ marginRight: 20 }} />\n          </a>\n        )\n      }) }\n      <div ref={props.annex1Ref}></div>\n    </Paper>);\n}\n\nconst ContractPaper = (props) => {\n  const annex1Ref = useRef(null);\n  const annex2Ref = useRef(null);\n  const annex3Ref = useRef(null);\n  const annex4Ref = useRef(null);\n  const annex5Ref = useRef(null);\n  const annex6Ref = useRef(null);\n  return (\n    <Grid container direction row>\n      <Grid item>\n        <MainPaper\n          annex1Ref={annex1Ref}\n          annex2Ref={annex2Ref}\n          annex3Ref={annex3Ref}\n          annex4Ref={annex4Ref}\n          annex5Ref={annex5Ref}\n          annex6Ref={annex6Ref}></MainPaper>\n      </Grid>\n      <Grid item>\n        <Toolbar></Toolbar>\n      </Grid>\n      <Grid item>\n        <Annex\n          annex1Ref={annex1Ref}\n          annex2Ref={annex2Ref}\n          annex3Ref={annex3Ref}\n          annex4Ref={annex4Ref}\n          annex5Ref={annex5Ref}\n          annex6Ref={annex6Ref}></Annex>\n      </Grid>\n    </Grid>\n  )\n}\n\nexport default ContractPaper;","export const ZCBContractCode = [\n  {  \"prim\": \"storage\",\n\"args\": [\n  {  \"prim\": \"pair\",\n     \"args\": [\n       {  \"prim\": \"address\",\n          \"annots\": [\n            \"%issuer\"\n          ]\n       },\n       {  \"prim\": \"pair\",\n          \"args\": [\n            {  \"prim\": \"address\",\n               \"annots\": [\n                 \"%subscriber\"\n               ]\n            },\n            {  \"prim\": \"pair\",\n               \"args\": [\n                 {  \"prim\": \"mutez\",\n                    \"annots\": [\n                      \"%facevalue\"\n                    ]\n                 },\n                 {  \"prim\": \"pair\",\n                    \"args\": [\n                      {  \"prim\": \"pair\",\n                         \"args\": [\n                           {  \"prim\": \"int\"  },\n                           {  \"prim\": \"nat\"  }\n                         ]\n                         ,\n                         \"annots\": [\n                           \"%discount\"\n                         ]\n                      },\n                      {  \"prim\": \"pair\",\n                         \"args\": [\n                           {  \"prim\": \"int\",\n                              \"annots\": [\n                                \"%maturityduration\"\n                              ]\n                           },\n                           {  \"prim\": \"pair\",\n                              \"args\": [\n                                {  \"prim\": \"int\",\n                                   \"annots\": [\n                                     \"%paybackduration\"\n                                   ]\n                                },\n                                {  \"prim\": \"pair\",\n                                   \"args\": [\n                                     {  \"prim\": \"bool\",\n                                        \"annots\": [\n                                          \"%issuersigned\"\n                                        ]\n                                     },\n                                     {  \"prim\": \"pair\",\n                                        \"args\": [\n                                          {  \"prim\": \"bool\",\n                                             \"annots\": [\n                                               \"%subscribersigned\"\n                                             ]\n                                          },\n                                          {  \"prim\": \"pair\",\n                                             \"args\": [\n                                               {  \"prim\": \"option\",\n                                                  \"args\": [\n                                                    {  \"prim\": \"timestamp\"  }\n                                                  ]\n                                                  ,\n                                                  \"annots\": [\n                                                    \"%signaturedate\"\n                                                  ]\n                                               },\n                                               {  \"prim\": \"int\",\n                                                  \"annots\": [\n                                                    \"%_state\"\n                                                  ]\n                                               }\n                                             ]\n                                          }\n                                        ]\n                                     }\n                                   ]\n                                }\n                              ]\n                           }\n                         ]\n                      }\n                    ]\n                 }\n               ]\n            }\n          ]\n       }\n     ]\n  }\n]\n},\n{  \"prim\": \"parameter\",\n\"args\": [\n{  \"prim\": \"or\",\n  \"args\": [\n    {  \"prim\": \"unit\",\n       \"annots\": [\n         \"%toSigned\"\n       ]\n    },\n    {  \"prim\": \"or\",\n       \"args\": [\n         {  \"prim\": \"unit\",\n            \"annots\": [\n              \"%sign\"\n            ]\n         },\n         {  \"prim\": \"or\",\n            \"args\": [\n              {  \"prim\": \"unit\",\n                 \"annots\": [\n                   \"%terminate\"\n                 ]\n              },\n              {  \"prim\": \"unit\",\n                 \"annots\": [\n                   \"%dispute\"\n                 ]\n              }\n            ]\n         }\n       ]\n    }\n  ]\n}\n]\n},\n{  \"prim\": \"code\",\n\"args\": [\n[  {  \"prim\": \"NIL\",\n     \"args\": [\n       {  \"prim\": \"operation\"  }\n     ]\n},\n{  \"prim\": \"DIG\",\n  \"args\": [\n    {  \"int\": \"1\"  }\n  ]\n},\n{  \"prim\": \"UNPAIR\"  },\n{  \"prim\": \"DIP\",\n  \"args\": [\n    {  \"int\": \"1\"  },\n    [  {  \"prim\": \"UNPAIR\"  },\n    {  \"prim\": \"SWAP\"  },\n    {  \"prim\": \"UNPAIR\"  },\n    {  \"prim\": \"SWAP\"  },\n    {  \"prim\": \"UNPAIR\"  },\n    {  \"prim\": \"SWAP\"  },\n    {  \"prim\": \"UNPAIR\"  },\n    {  \"prim\": \"SWAP\"  },\n    {  \"prim\": \"UNPAIR\"  },\n    {  \"prim\": \"SWAP\"  },\n    {  \"prim\": \"UNPAIR\"  },\n    {  \"prim\": \"SWAP\"  },\n    {  \"prim\": \"UNPAIR\"  },\n    {  \"prim\": \"SWAP\"  },\n    {  \"prim\": \"UNPAIR\"  },\n    {  \"prim\": \"SWAP\"  },\n    {  \"prim\": \"UNPAIR\"  },\n    {  \"prim\": \"SWAP\"  }  ]\n  ]\n},\n{  \"prim\": \"IF_LEFT\",\n  \"args\": [\n    [  {  \"prim\": \"DROP\",\n          \"args\": [\n            {  \"int\": \"1\"  }\n          ]\n    },\n    {  \"prim\": \"SELF\"  },\n    {  \"prim\": \"ADDRESS\"  },\n    {  \"prim\": \"SENDER\"  },\n    {  \"prim\": \"COMPARE\"  },\n    {  \"prim\": \"EQ\"  },\n    {  \"prim\": \"NOT\"  },\n    {  \"prim\": \"IF\",\n       \"args\": [\n         [  {  \"prim\": \"PUSH\",\n               \"args\": [\n                 {  \"prim\": \"string\"  },\n                 {  \"string\": \"InvalidCaller\"  }\n               ]\n         },\n         {  \"prim\": \"FAILWITH\"  }  ],\n         [    ]\n       ]\n    },\n    {  \"prim\": \"PUSH\",\n       \"args\": [\n         {  \"prim\": \"int\"  },\n         {  \"int\": \"0\"  }\n       ]\n    },\n    {  \"prim\": \"DIG\",\n       \"args\": [\n         {  \"int\": \"1\"  }\n       ]\n    },\n    {  \"prim\": \"DUP\"  },\n    {  \"prim\": \"DUG\",\n       \"args\": [\n         {  \"int\": \"2\"  }\n       ]\n    },\n    {  \"prim\": \"COMPARE\"  },\n    {  \"prim\": \"EQ\"  },\n    {  \"prim\": \"IF\",\n       \"args\": [\n         [  {  \"prim\": \"NOW\"  },\n         {  \"prim\": \"SOME\"  },\n         {  \"prim\": \"DIP\",\n            \"args\": [\n              {  \"int\": \"1\"  },\n              [  {  \"prim\": \"DIG\",\n                    \"args\": [\n                      {  \"int\": \"1\"  }\n                    ]\n              },\n              {  \"prim\": \"DROP\",\n                 \"args\": [\n                   {  \"int\": \"1\"  }\n                 ]\n              }  ]\n            ]\n         },\n         {  \"prim\": \"DUG\",\n            \"args\": [\n              {  \"int\": \"1\"  }\n            ]\n         },\n         {  \"prim\": \"PUSH\",\n            \"args\": [\n              {  \"prim\": \"int\"  },\n              {  \"int\": \"1\"  }\n            ]\n         },\n         {  \"prim\": \"SWAP\"  },\n         {  \"prim\": \"DROP\",\n            \"args\": [\n              {  \"int\": \"1\"  }\n            ]\n         }  ],\n         [  {  \"prim\": \"PUSH\",\n               \"args\": [\n                 {  \"prim\": \"string\"  },\n                 {  \"string\": \"InvalidState\"  }\n               ]\n         },\n         {  \"prim\": \"FAILWITH\"  }  ]\n       ]\n    },\n    {  \"prim\": \"SWAP\"  },\n    {  \"prim\": \"PAIR\"  },\n    {  \"prim\": \"SWAP\"  },\n    {  \"prim\": \"PAIR\"  },\n    {  \"prim\": \"SWAP\"  },\n    {  \"prim\": \"PAIR\"  },\n    {  \"prim\": \"SWAP\"  },\n    {  \"prim\": \"PAIR\"  },\n    {  \"prim\": \"SWAP\"  },\n    {  \"prim\": \"PAIR\"  },\n    {  \"prim\": \"SWAP\"  },\n    {  \"prim\": \"PAIR\"  },\n    {  \"prim\": \"SWAP\"  },\n    {  \"prim\": \"PAIR\"  },\n    {  \"prim\": \"SWAP\"  },\n    {  \"prim\": \"PAIR\"  },\n    {  \"prim\": \"SWAP\"  },\n    {  \"prim\": \"PAIR\"  },\n    {  \"prim\": \"DIG\",\n       \"args\": [\n         {  \"int\": \"1\"  }\n       ]\n    },\n    {  \"prim\": \"PAIR\"  }  ],\n    [  {  \"prim\": \"IF_LEFT\",\n          \"args\": [\n            [  {  \"prim\": \"DROP\",\n                  \"args\": [\n                    {  \"int\": \"1\"  }\n                  ]\n            },\n            {  \"prim\": \"DIG\",\n               \"args\": [\n                 {  \"int\": \"9\"  }\n               ]\n            },\n            {  \"prim\": \"DUP\"  },\n            {  \"prim\": \"DUG\",\n               \"args\": [\n                 {  \"int\": \"10\"  }\n               ]\n            },\n            {  \"prim\": \"SENDER\"  },\n            {  \"prim\": \"COMPARE\"  },\n            {  \"prim\": \"EQ\"  },\n            {  \"prim\": \"IF\",\n               \"args\": [\n                 [  {  \"prim\": \"PUSH\",\n                       \"args\": [\n                         {  \"prim\": \"bool\"  },\n                         {  \"prim\": \"True\"  }\n                       ]\n                 },\n                 {  \"prim\": \"DIP\",\n                    \"args\": [\n                      {  \"int\": \"1\"  },\n                      [  {  \"prim\": \"DIG\",\n                            \"args\": [\n                              {  \"int\": \"3\"  }\n                            ]\n                      },\n                      {  \"prim\": \"DROP\",\n                         \"args\": [\n                           {  \"int\": \"1\"  }\n                         ]\n                      }  ]\n                    ]\n                 },\n                 {  \"prim\": \"DUG\",\n                    \"args\": [\n                      {  \"int\": \"3\"  }\n                    ]\n                 }  ],\n                 [  {  \"prim\": \"DIG\",\n                       \"args\": [\n                         {  \"int\": \"8\"  }\n                       ]\n                 },\n                 {  \"prim\": \"DUP\"  },\n                 {  \"prim\": \"DUG\",\n                    \"args\": [\n                      {  \"int\": \"9\"  }\n                    ]\n                 },\n                 {  \"prim\": \"SENDER\"  },\n                 {  \"prim\": \"COMPARE\"  },\n                 {  \"prim\": \"EQ\"  },\n                 {  \"prim\": \"IF\",\n                    \"args\": [\n                      [  {  \"prim\": \"PUSH\",\n                            \"args\": [\n                              {  \"prim\": \"bool\"  },\n                              {  \"prim\": \"True\"  }\n                            ]\n                      },\n                      {  \"prim\": \"DIP\",\n                         \"args\": [\n                           {  \"int\": \"1\"  },\n                           [  {  \"prim\": \"DIG\",\n                                 \"args\": [\n                                   {  \"int\": \"2\"  }\n                                 ]\n                           },\n                           {  \"prim\": \"DROP\",\n                              \"args\": [\n                                {  \"int\": \"1\"  }\n                              ]\n                           }  ]\n                         ]\n                      },\n                      {  \"prim\": \"DUG\",\n                         \"args\": [\n                           {  \"int\": \"2\"  }\n                         ]\n                      },\n                      {  \"prim\": \"DIG\",\n                         \"args\": [\n                           {  \"int\": \"7\"  }\n                         ]\n                      },\n                      {  \"prim\": \"DUP\"  },\n                      {  \"prim\": \"DUG\",\n                         \"args\": [\n                           {  \"int\": \"8\"  }\n                         ]\n                      },\n                      {  \"prim\": \"DIG\",\n                         \"args\": [\n                           {  \"int\": \"7\"  }\n                         ]\n                      },\n                      {  \"prim\": \"DUP\"  },\n                      {  \"prim\": \"DUG\",\n                         \"args\": [\n                           {  \"int\": \"8\"  }\n                         ]\n                      },\n                      {  \"prim\": \"PAIR\"  },\n                      {  \"prim\": \"UNPAIR\"  },\n                      {  \"prim\": \"UNPAIR\"  },\n                      {  \"prim\": \"ABS\"  },\n                      {  \"prim\": \"DIG\",\n                         \"args\": [\n                           {  \"int\": \"2\"  }\n                         ]\n                      },\n                      {  \"prim\": \"MUL\"  },\n                      {  \"prim\": \"EDIV\"  },\n                      {  \"prim\": \"IF_NONE\",\n                         \"args\": [\n                           [  {  \"prim\": \"PUSH\",\n                                 \"args\": [\n                                   {  \"prim\": \"string\"  },\n                                   {  \"string\": \"DivByZero\"  }\n                                 ]\n                           },\n                           {  \"prim\": \"FAILWITH\"  }  ],\n                           [    ]\n                         ]\n                      },\n                      {  \"prim\": \"CAR\"  },\n                      {  \"prim\": \"DUP\"  },\n                      {  \"prim\": \"AMOUNT\"  },\n                      {  \"prim\": \"COMPARE\"  },\n                      {  \"prim\": \"GE\"  },\n                      {  \"prim\": \"NOT\"  },\n                      {  \"prim\": \"IF\",\n                         \"args\": [\n                           [  {  \"prim\": \"PUSH\",\n                                 \"args\": [\n                                   {  \"prim\": \"string\"  },\n                                   {  \"string\": \"SUBSCRIBER_INVALID_TRANSFERRED\"  }\n                                 ]\n                           },\n                           {  \"prim\": \"FAILWITH\"  }  ],\n                           [    ]\n                         ]\n                      },\n                      {  \"prim\": \"DIG\",\n                         \"args\": [\n                           {  \"int\": \"11\"  }\n                         ]\n                      },\n                      {  \"prim\": \"DUP\"  },\n                      {  \"prim\": \"DUG\",\n                         \"args\": [\n                           {  \"int\": \"12\"  }\n                         ]\n                      },\n                      {  \"prim\": \"DIG\",\n                         \"args\": [\n                           {  \"int\": \"11\"  }\n                         ]\n                      },\n                      {  \"prim\": \"DUP\"  },\n                      {  \"prim\": \"DUG\",\n                         \"args\": [\n                           {  \"int\": \"12\"  }\n                         ]\n                      },\n                      {  \"prim\": \"CONTRACT\",\n                         \"args\": [\n                           {  \"prim\": \"unit\"  }\n                         ]\n                      },\n                      {  \"prim\": \"IF_NONE\",\n                         \"args\": [\n                           [  {  \"prim\": \"PUSH\",\n                                 \"args\": [\n                                   {  \"prim\": \"string\"  },\n                                   {  \"string\": \"BadContract\"  }\n                                 ]\n                           },\n                           {  \"prim\": \"FAILWITH\"  }  ],\n                           [    ]\n                         ]\n                      },\n                      {  \"prim\": \"DIG\",\n                         \"args\": [\n                           {  \"int\": \"2\"  }\n                         ]\n                      },\n                      {  \"prim\": \"DUP\"  },\n                      {  \"prim\": \"DUG\",\n                         \"args\": [\n                           {  \"int\": \"3\"  }\n                         ]\n                      },\n                      {  \"prim\": \"UNIT\"  },\n                      {  \"prim\": \"TRANSFER_TOKENS\"  },\n                      {  \"prim\": \"CONS\"  },\n                      {  \"prim\": \"DIP\",\n                         \"args\": [\n                           {  \"int\": \"1\"  },\n                           [  {  \"prim\": \"DIG\",\n                                 \"args\": [\n                                   {  \"int\": \"11\"  }\n                                 ]\n                           },\n                           {  \"prim\": \"DROP\",\n                              \"args\": [\n                                {  \"int\": \"1\"  }\n                              ]\n                           }  ]\n                         ]\n                      },\n                      {  \"prim\": \"DUG\",\n                         \"args\": [\n                           {  \"int\": \"11\"  }\n                         ]\n                      },\n                      {  \"prim\": \"DROP\",\n                         \"args\": [\n                           {  \"int\": \"1\"  }\n                         ]\n                      }  ],\n                      [  {  \"prim\": \"PUSH\",\n                            \"args\": [\n                              {  \"prim\": \"string\"  },\n                              {  \"string\": \"CALLER_NOT_A_SIGNER\"  }\n                            ]\n                      },\n                      {  \"prim\": \"FAILWITH\"  }  ]\n                    ]\n                 }  ]\n               ]\n            },\n            {  \"prim\": \"DIG\",\n               \"args\": [\n                 {  \"int\": \"2\"  }\n               ]\n            },\n            {  \"prim\": \"DUP\"  },\n            {  \"prim\": \"DUG\",\n               \"args\": [\n                 {  \"int\": \"3\"  }\n               ]\n            },\n            {  \"prim\": \"DIG\",\n               \"args\": [\n                 {  \"int\": \"4\"  }\n               ]\n            },\n            {  \"prim\": \"DUP\"  },\n            {  \"prim\": \"DUG\",\n               \"args\": [\n                 {  \"int\": \"5\"  }\n               ]\n            },\n            {  \"prim\": \"AND\"  },\n            {  \"prim\": \"IF\",\n               \"args\": [\n                 [  {  \"prim\": \"DIG\",\n                       \"args\": [\n                         {  \"int\": \"10\"  }\n                       ]\n                 },\n                 {  \"prim\": \"DUP\"  },\n                 {  \"prim\": \"DUG\",\n                    \"args\": [\n                      {  \"int\": \"11\"  }\n                    ]\n                 },\n                 {  \"prim\": \"SELF\"  },\n                 {  \"prim\": \"ADDRESS\"  },\n                 {  \"prim\": \"CONTRACT\",\n                    \"args\": [\n                      {  \"prim\": \"unit\"  }\n                    ]\n                    ,\n                    \"annots\": [\n                      \"%toSigned\"\n                    ]\n                 },\n                 {  \"prim\": \"IF_NONE\",\n                    \"args\": [\n                      [  {  \"prim\": \"PUSH\",\n                            \"args\": [\n                              {  \"prim\": \"string\"  },\n                              {  \"string\": \"BadContract\"  }\n                            ]\n                      },\n                      {  \"prim\": \"FAILWITH\"  }  ],\n                      [    ]\n                    ]\n                 },\n                 {  \"prim\": \"PUSH\",\n                    \"args\": [\n                      {  \"prim\": \"mutez\"  },\n                      {  \"int\": \"0\"  }\n                    ]\n                 },\n                 {  \"prim\": \"UNIT\"  },\n                 {  \"prim\": \"TRANSFER_TOKENS\"  },\n                 {  \"prim\": \"CONS\"  },\n                 {  \"prim\": \"DIP\",\n                    \"args\": [\n                      {  \"int\": \"1\"  },\n                      [  {  \"prim\": \"DIG\",\n                            \"args\": [\n                              {  \"int\": \"10\"  }\n                            ]\n                      },\n                      {  \"prim\": \"DROP\",\n                         \"args\": [\n                           {  \"int\": \"1\"  }\n                         ]\n                      }  ]\n                    ]\n                 },\n                 {  \"prim\": \"DUG\",\n                    \"args\": [\n                      {  \"int\": \"10\"  }\n                    ]\n                 }  ],\n                 [    ]\n               ]\n            },\n            {  \"prim\": \"SWAP\"  },\n            {  \"prim\": \"PAIR\"  },\n            {  \"prim\": \"SWAP\"  },\n            {  \"prim\": \"PAIR\"  },\n            {  \"prim\": \"SWAP\"  },\n            {  \"prim\": \"PAIR\"  },\n            {  \"prim\": \"SWAP\"  },\n            {  \"prim\": \"PAIR\"  },\n            {  \"prim\": \"SWAP\"  },\n            {  \"prim\": \"PAIR\"  },\n            {  \"prim\": \"SWAP\"  },\n            {  \"prim\": \"PAIR\"  },\n            {  \"prim\": \"SWAP\"  },\n            {  \"prim\": \"PAIR\"  },\n            {  \"prim\": \"SWAP\"  },\n            {  \"prim\": \"PAIR\"  },\n            {  \"prim\": \"SWAP\"  },\n            {  \"prim\": \"PAIR\"  },\n            {  \"prim\": \"DIG\",\n               \"args\": [\n                 {  \"int\": \"1\"  }\n               ]\n            },\n            {  \"prim\": \"PAIR\"  }  ],\n            [  {  \"prim\": \"IF_LEFT\",\n                  \"args\": [\n                    [  {  \"prim\": \"DROP\",\n                          \"args\": [\n                            {  \"int\": \"1\"  }\n                          ]\n                    },\n                    {  \"prim\": \"DIG\",\n                       \"args\": [\n                         {  \"int\": \"9\"  }\n                       ]\n                    },\n                    {  \"prim\": \"DUP\"  },\n                    {  \"prim\": \"DUG\",\n                       \"args\": [\n                         {  \"int\": \"10\"  }\n                       ]\n                    },\n                    {  \"prim\": \"SENDER\"  },\n                    {  \"prim\": \"COMPARE\"  },\n                    {  \"prim\": \"EQ\"  },\n                    {  \"prim\": \"NOT\"  },\n                    {  \"prim\": \"IF\",\n                       \"args\": [\n                         [  {  \"prim\": \"PUSH\",\n                               \"args\": [\n                                 {  \"prim\": \"string\"  },\n                                 {  \"string\": \"InvalidCaller\"  }\n                               ]\n                         },\n                         {  \"prim\": \"FAILWITH\"  }  ],\n                         [    ]\n                       ]\n                    },\n                    {  \"prim\": \"PUSH\",\n                       \"args\": [\n                         {  \"prim\": \"int\"  },\n                         {  \"int\": \"1\"  }\n                       ]\n                    },\n                    {  \"prim\": \"DIG\",\n                       \"args\": [\n                         {  \"int\": \"1\"  }\n                       ]\n                    },\n                    {  \"prim\": \"DUP\"  },\n                    {  \"prim\": \"DUG\",\n                       \"args\": [\n                         {  \"int\": \"2\"  }\n                       ]\n                    },\n                    {  \"prim\": \"COMPARE\"  },\n                    {  \"prim\": \"EQ\"  },\n                    {  \"prim\": \"IF\",\n                       \"args\": [\n                         [  {  \"prim\": \"DIG\",\n                               \"args\": [\n                                 {  \"int\": \"1\"  }\n                               ]\n                         },\n                         {  \"prim\": \"DUP\"  },\n                         {  \"prim\": \"DUG\",\n                            \"args\": [\n                              {  \"int\": \"2\"  }\n                            ]\n                         },\n                         {  \"prim\": \"IF_NONE\",\n                            \"args\": [\n                              [  {  \"prim\": \"PUSH\",\n                                    \"args\": [\n                                      {  \"prim\": \"bool\"  },\n                                      {  \"prim\": \"False\"  }\n                                    ]\n                              }  ],\n                              [  {  \"prim\": \"DIG\",\n                                    \"args\": [\n                                      {  \"int\": \"8\"  }\n                                    ]\n                              },\n                              {  \"prim\": \"DUP\"  },\n                              {  \"prim\": \"DUG\",\n                                 \"args\": [\n                                   {  \"int\": \"9\"  }\n                                 ]\n                              },\n                              {  \"prim\": \"AMOUNT\"  },\n                              {  \"prim\": \"COMPARE\"  },\n                              {  \"prim\": \"GE\"  },\n                              {  \"prim\": \"DIG\",\n                                 \"args\": [\n                                   {  \"int\": \"6\"  }\n                                 ]\n                              },\n                              {  \"prim\": \"DUP\"  },\n                              {  \"prim\": \"DUG\",\n                                 \"args\": [\n                                   {  \"int\": \"7\"  }\n                                 ]\n                              },\n                              {  \"prim\": \"DIG\",\n                                 \"args\": [\n                                   {  \"int\": \"8\"  }\n                                 ]\n                              },\n                              {  \"prim\": \"DUP\"  },\n                              {  \"prim\": \"DUG\",\n                                 \"args\": [\n                                   {  \"int\": \"9\"  }\n                                 ]\n                              },\n                              {  \"prim\": \"DIG\",\n                                 \"args\": [\n                                   {  \"int\": \"3\"  }\n                                 ]\n                              },\n                              {  \"prim\": \"DUP\"  },\n                              {  \"prim\": \"DUG\",\n                                 \"args\": [\n                                   {  \"int\": \"4\"  }\n                                 ]\n                              },\n                              {  \"prim\": \"ADD\"  },\n                              {  \"prim\": \"ADD\"  },\n                              {  \"prim\": \"NOW\"  },\n                              {  \"prim\": \"COMPARE\"  },\n                              {  \"prim\": \"LE\"  },\n                              {  \"prim\": \"NOW\"  },\n                              {  \"prim\": \"DIG\",\n                                 \"args\": [\n                                   {  \"int\": \"9\"  }\n                                 ]\n                              },\n                              {  \"prim\": \"DUP\"  },\n                              {  \"prim\": \"DUG\",\n                                 \"args\": [\n                                   {  \"int\": \"10\"  }\n                                 ]\n                              },\n                              {  \"prim\": \"DIG\",\n                                 \"args\": [\n                                   {  \"int\": \"4\"  }\n                                 ]\n                              },\n                              {  \"prim\": \"DUP\"  },\n                              {  \"prim\": \"DUG\",\n                                 \"args\": [\n                                   {  \"int\": \"5\"  }\n                                 ]\n                              },\n                              {  \"prim\": \"ADD\"  },\n                              {  \"prim\": \"COMPARE\"  },\n                              {  \"prim\": \"LE\"  },\n                              {  \"prim\": \"AND\"  },\n                              {  \"prim\": \"AND\"  },\n                              {  \"prim\": \"SWAP\"  },\n                              {  \"prim\": \"DROP\",\n                                 \"args\": [\n                                   {  \"int\": \"1\"  }\n                                 ]\n                              }  ]\n                            ]\n                         },\n                         {  \"prim\": \"IF\",\n                            \"args\": [\n                              [  {  \"prim\": \"DIG\",\n                                    \"args\": [\n                                      {  \"int\": \"10\"  }\n                                    ]\n                              },\n                              {  \"prim\": \"DUP\"  },\n                              {  \"prim\": \"DUG\",\n                                 \"args\": [\n                                   {  \"int\": \"11\"  }\n                                 ]\n                              },\n                              {  \"prim\": \"DIG\",\n                                 \"args\": [\n                                   {  \"int\": \"9\"  }\n                                 ]\n                              },\n                              {  \"prim\": \"DUP\"  },\n                              {  \"prim\": \"DUG\",\n                                 \"args\": [\n                                   {  \"int\": \"10\"  }\n                                 ]\n                              },\n                              {  \"prim\": \"CONTRACT\",\n                                 \"args\": [\n                                   {  \"prim\": \"unit\"  }\n                                 ]\n                              },\n                              {  \"prim\": \"IF_NONE\",\n                                 \"args\": [\n                                   [  {  \"prim\": \"PUSH\",\n                                         \"args\": [\n                                           {  \"prim\": \"string\"  },\n                                           {  \"string\": \"BadContract\"  }\n                                         ]\n                                   },\n                                   {  \"prim\": \"FAILWITH\"  }  ],\n                                   [    ]\n                                 ]\n                              },\n                              {  \"prim\": \"DIG\",\n                                 \"args\": [\n                                   {  \"int\": \"9\"  }\n                                 ]\n                              },\n                              {  \"prim\": \"DUP\"  },\n                              {  \"prim\": \"DUG\",\n                                 \"args\": [\n                                   {  \"int\": \"10\"  }\n                                 ]\n                              },\n                              {  \"prim\": \"UNIT\"  },\n                              {  \"prim\": \"TRANSFER_TOKENS\"  },\n                              {  \"prim\": \"CONS\"  },\n                              {  \"prim\": \"DIP\",\n                                 \"args\": [\n                                   {  \"int\": \"1\"  },\n                                   [  {  \"prim\": \"DIG\",\n                                         \"args\": [\n                                           {  \"int\": \"10\"  }\n                                         ]\n                                   },\n                                   {  \"prim\": \"DROP\",\n                                      \"args\": [\n                                        {  \"int\": \"1\"  }\n                                      ]\n                                   }  ]\n                                 ]\n                              },\n                              {  \"prim\": \"DUG\",\n                                 \"args\": [\n                                   {  \"int\": \"10\"  }\n                                 ]\n                              },\n                              {  \"prim\": \"PUSH\",\n                                 \"args\": [\n                                   {  \"prim\": \"int\"  },\n                                   {  \"int\": \"2\"  }\n                                 ]\n                              },\n                              {  \"prim\": \"SWAP\"  },\n                              {  \"prim\": \"DROP\",\n                                 \"args\": [\n                                   {  \"int\": \"1\"  }\n                                 ]\n                              }  ],\n                              [    ]\n                            ]\n                         }  ],\n                         [  {  \"prim\": \"PUSH\",\n                               \"args\": [\n                                 {  \"prim\": \"string\"  },\n                                 {  \"string\": \"InvalidState\"  }\n                               ]\n                         },\n                         {  \"prim\": \"FAILWITH\"  }  ]\n                       ]\n                    },\n                    {  \"prim\": \"SWAP\"  },\n                    {  \"prim\": \"PAIR\"  },\n                    {  \"prim\": \"SWAP\"  },\n                    {  \"prim\": \"PAIR\"  },\n                    {  \"prim\": \"SWAP\"  },\n                    {  \"prim\": \"PAIR\"  },\n                    {  \"prim\": \"SWAP\"  },\n                    {  \"prim\": \"PAIR\"  },\n                    {  \"prim\": \"SWAP\"  },\n                    {  \"prim\": \"PAIR\"  },\n                    {  \"prim\": \"SWAP\"  },\n                    {  \"prim\": \"PAIR\"  },\n                    {  \"prim\": \"SWAP\"  },\n                    {  \"prim\": \"PAIR\"  },\n                    {  \"prim\": \"SWAP\"  },\n                    {  \"prim\": \"PAIR\"  },\n                    {  \"prim\": \"SWAP\"  },\n                    {  \"prim\": \"PAIR\"  },\n                    {  \"prim\": \"DIG\",\n                       \"args\": [\n                         {  \"int\": \"1\"  }\n                       ]\n                    },\n                    {  \"prim\": \"PAIR\"  }  ],\n                    [  {  \"prim\": \"DROP\",\n                          \"args\": [\n                            {  \"int\": \"1\"  }\n                          ]\n                    },\n                    {  \"prim\": \"DIG\",\n                       \"args\": [\n                         {  \"int\": \"8\"  }\n                       ]\n                    },\n                    {  \"prim\": \"DUP\"  },\n                    {  \"prim\": \"DUG\",\n                       \"args\": [\n                         {  \"int\": \"9\"  }\n                       ]\n                    },\n                    {  \"prim\": \"SENDER\"  },\n                    {  \"prim\": \"COMPARE\"  },\n                    {  \"prim\": \"EQ\"  },\n                    {  \"prim\": \"NOT\"  },\n                    {  \"prim\": \"IF\",\n                       \"args\": [\n                         [  {  \"prim\": \"PUSH\",\n                               \"args\": [\n                                 {  \"prim\": \"string\"  },\n                                 {  \"string\": \"InvalidCaller\"  }\n                               ]\n                         },\n                         {  \"prim\": \"FAILWITH\"  }  ],\n                         [    ]\n                       ]\n                    },\n                    {  \"prim\": \"PUSH\",\n                       \"args\": [\n                         {  \"prim\": \"int\"  },\n                         {  \"int\": \"1\"  }\n                       ]\n                    },\n                    {  \"prim\": \"DIG\",\n                       \"args\": [\n                         {  \"int\": \"1\"  }\n                       ]\n                    },\n                    {  \"prim\": \"DUP\"  },\n                    {  \"prim\": \"DUG\",\n                       \"args\": [\n                         {  \"int\": \"2\"  }\n                       ]\n                    },\n                    {  \"prim\": \"COMPARE\"  },\n                    {  \"prim\": \"EQ\"  },\n                    {  \"prim\": \"IF\",\n                       \"args\": [\n                         [  {  \"prim\": \"DIG\",\n                               \"args\": [\n                                 {  \"int\": \"1\"  }\n                               ]\n                         },\n                         {  \"prim\": \"DUP\"  },\n                         {  \"prim\": \"DUG\",\n                            \"args\": [\n                              {  \"int\": \"2\"  }\n                            ]\n                         },\n                         {  \"prim\": \"IF_NONE\",\n                            \"args\": [\n                              [  {  \"prim\": \"PUSH\",\n                                    \"args\": [\n                                      {  \"prim\": \"bool\"  },\n                                      {  \"prim\": \"False\"  }\n                                    ]\n                              }  ],\n                              [  {  \"prim\": \"NOW\"  },\n                              {  \"prim\": \"DIG\",\n                                 \"args\": [\n                                   {  \"int\": \"6\"  }\n                                 ]\n                              },\n                              {  \"prim\": \"DUP\"  },\n                              {  \"prim\": \"DUG\",\n                                 \"args\": [\n                                   {  \"int\": \"7\"  }\n                                 ]\n                              },\n                              {  \"prim\": \"DIG\",\n                                 \"args\": [\n                                   {  \"int\": \"8\"  }\n                                 ]\n                              },\n                              {  \"prim\": \"DUP\"  },\n                              {  \"prim\": \"DUG\",\n                                 \"args\": [\n                                   {  \"int\": \"9\"  }\n                                 ]\n                              },\n                              {  \"prim\": \"DIG\",\n                                 \"args\": [\n                                   {  \"int\": \"3\"  }\n                                 ]\n                              },\n                              {  \"prim\": \"DUP\"  },\n                              {  \"prim\": \"DUG\",\n                                 \"args\": [\n                                   {  \"int\": \"4\"  }\n                                 ]\n                              },\n                              {  \"prim\": \"ADD\"  },\n                              {  \"prim\": \"ADD\"  },\n                              {  \"prim\": \"COMPARE\"  },\n                              {  \"prim\": \"LE\"  },\n                              {  \"prim\": \"SWAP\"  },\n                              {  \"prim\": \"DROP\",\n                                 \"args\": [\n                                   {  \"int\": \"1\"  }\n                                 ]\n                              }  ]\n                            ]\n                         },\n                         {  \"prim\": \"IF\",\n                            \"args\": [\n                              [  {  \"prim\": \"PUSH\",\n                                    \"args\": [\n                                      {  \"prim\": \"int\"  },\n                                      {  \"int\": \"3\"  }\n                                    ]\n                              },\n                              {  \"prim\": \"SWAP\"  },\n                              {  \"prim\": \"DROP\",\n                                 \"args\": [\n                                   {  \"int\": \"1\"  }\n                                 ]\n                              }  ],\n                              [    ]\n                            ]\n                         }  ],\n                         [  {  \"prim\": \"PUSH\",\n                               \"args\": [\n                                 {  \"prim\": \"string\"  },\n                                 {  \"string\": \"InvalidState\"  }\n                               ]\n                         },\n                         {  \"prim\": \"FAILWITH\"  }  ]\n                       ]\n                    },\n                    {  \"prim\": \"SWAP\"  },\n                    {  \"prim\": \"PAIR\"  },\n                    {  \"prim\": \"SWAP\"  },\n                    {  \"prim\": \"PAIR\"  },\n                    {  \"prim\": \"SWAP\"  },\n                    {  \"prim\": \"PAIR\"  },\n                    {  \"prim\": \"SWAP\"  },\n                    {  \"prim\": \"PAIR\"  },\n                    {  \"prim\": \"SWAP\"  },\n                    {  \"prim\": \"PAIR\"  },\n                    {  \"prim\": \"SWAP\"  },\n                    {  \"prim\": \"PAIR\"  },\n                    {  \"prim\": \"SWAP\"  },\n                    {  \"prim\": \"PAIR\"  },\n                    {  \"prim\": \"SWAP\"  },\n                    {  \"prim\": \"PAIR\"  },\n                    {  \"prim\": \"SWAP\"  },\n                    {  \"prim\": \"PAIR\"  },\n                    {  \"prim\": \"DIG\",\n                       \"args\": [\n                         {  \"int\": \"1\"  }\n                       ]\n                    },\n                    {  \"prim\": \"PAIR\"  }  ]\n                  ]\n            }  ]\n          ]\n    }  ]\n  ]\n}  ]\n]\n}  ];\n\nexport const getStorage = (\n  issuer,      /* ex. \"tz1bfVgcJC4ukaQSHUe1EbrUd5SekXeP9CWk\" */\n  subscriber,  /* ex. \"tz1Lc2qBKEWCBeDU8npG6zCeCqpmaegRi6Jg\" */\n  facevalue,   /* ex. \"10000000\" (mutez) */\n  discountnum, /* ex. \"7\"  */\n  discountden, /* ex. \"50\" */\n  duration,    /* ex. \"60\" (in seconds) */\n  period,      /* ex. \"60\" (in seconds) */\n) => {\n  return {\n  \"prim\": \"Pair\",\n  \"args\": [\n  {  \"string\": issuer  },\n  {  \"prim\": \"Pair\",\n     \"args\": [\n       {  \"string\": subscriber  },\n       {  \"prim\": \"Pair\",\n          \"args\": [\n            {  \"int\": facevalue  },\n            {  \"prim\": \"Pair\",\n               \"args\": [\n                 {  \"prim\": \"Pair\",\n                    \"args\": [\n                      {  \"int\": discountnum  },\n                      {  \"int\": discountden  }\n                    ]\n                 },\n                 {  \"prim\": \"Pair\",\n                    \"args\": [\n                      {  \"int\": duration  },\n                      {  \"prim\": \"Pair\",\n                         \"args\": [\n                           {  \"int\": period  },\n                           {  \"prim\": \"Pair\",\n                              \"args\": [\n                                {  \"prim\": \"False\"  },\n                                {  \"prim\": \"Pair\",\n                                   \"args\": [\n                                     {  \"prim\": \"False\"  },\n                                     {  \"prim\": \"Pair\",\n                                        \"args\": [\n                                          {  \"prim\": \"None\"  },\n                                          {  \"int\": \"0\"  }\n                                        ]\n                                     }\n                                   ]\n                                }\n                              ]\n                           }\n                         ]\n                      }\n                    ]\n                 }\n               ]\n            }\n          ]\n       }\n     ]\n  }]}\n};\n","import { Typography } from '@material-ui/core';\nimport Grid from '@material-ui/core/Grid';\n\nimport FormatBoldIcon from '@material-ui/icons/FormatBold';\nimport FormatItalicIcon from '@material-ui/icons/FormatItalic';\nimport CodeIcon from '@material-ui/icons/Code';\n\nimport FormatQuoteIcon from '@material-ui/icons/FormatQuote';\nimport FormatListNumberedIcon from '@material-ui/icons/FormatListNumbered';\nimport FormatListBulletedIcon from '@material-ui/icons/FormatListBulleted';\n\nimport UndoIcon from '@material-ui/icons/Undo';\nimport RedoIcon from '@material-ui/icons/Redo';\n\nimport LinkIcon from '@material-ui/icons/Link';\nimport ImageIcon from '@material-ui/icons/Image';\n\nimport Divider from '@material-ui/core/Divider';\nimport Button from '@material-ui/core/Button';\n\nimport { useZCBStateContext } from '../ZCBState';\n\nimport Chip from '@material-ui/core/Chip';\n\nimport PictureAsPdfIcon from '@material-ui/icons/PictureAsPdf';\nimport ShareIcon from '@material-ui/icons/Share';\n\nimport { ZCBContractCode, getStorage } from '../contract';\n\nimport { useTezos, useReady } from '../dapp';\n\nimport { network } from '../settings';\n\nconst options = {year: \"numeric\", month: \"numeric\", day: \"numeric\",\nhour: \"numeric\", minute: \"numeric\", second: \"numeric\",\nhour12: false};\n\nconst EditorBar = (props) => {\n  const { zcbState, isReady, setContractAddress, addTimeline } = useZCBStateContext();\n  const tezos = useTezos();\n  const ready = useReady();\n  const handleClick = () => {\n    tezos.wallet.originate({\n      code: ZCBContractCode,\n      init: getStorage(\n        zcbState.contractInfo.issueraccount,\n        zcbState.contractInfo.subscriberaccount,\n        (parseInt(zcbState.contractInfo.faceprice)*1000000).toString(),\n        zcbState.contractInfo.discount,\n        \"100\",\n        (parseInt(zcbState.contractInfo.duration)*60).toString(),\n        (parseInt(zcbState.contractInfo.period)*60).toString())\n    }).send().then(op => {\n      console.log(`Waiting for confirmation of origination...`);\n      props.openSnack();\n      return op.contract()\n    }).then (contract => {\n      props.closeSnack();\n      setContractAddress(contract.address);\n      console.log(`Origination completed for ${contract.address}.`);\n    }).catch(error => console.log(`Error: ${JSON.stringify(error, null, 2)}`));\n  }\n  return (\n    (zcbState.contractAddress === '')? (\n      <Grid container direction='row' justify=\"flex-start\" alignItems=\"center\" style={{ height: '100%' }} spacing={3}>\n        <Grid item>\n          <Typography variant='h6' style={{ fontWeight: 'bold', marginLeft:'24px' }}>Zero-coupon bond</Typography>\n        </Grid>\n        <Grid item><Divider orientation=\"vertical\" flexItem style={{ height: '64px' }}/></Grid>\n        <Grid item><FormatBoldIcon color='disabled'/></Grid>\n        <Grid item><FormatItalicIcon color='disabled'/></Grid>\n        <Grid item ><CodeIcon color='disabled'/></Grid>\n        <Grid item><Divider orientation=\"vertical\" flexItem style={{ height: '64px' }}/></Grid>\n        <Grid item><FormatQuoteIcon color='disabled'/></Grid>\n        <Grid item><FormatListNumberedIcon color='disabled'/></Grid>\n        <Grid item><FormatListBulletedIcon color='disabled'/></Grid>\n        <Grid item><Divider orientation=\"vertical\" flexItem style={{ height: '64px' }}/></Grid>\n        <Grid item><UndoIcon color='disabled'/></Grid>\n        <Grid item><RedoIcon color='disabled'/></Grid>\n        <Grid item><Divider orientation=\"vertical\" flexItem style={{ height: '64px' }}/></Grid>\n        <Grid item><LinkIcon color='disabled'/></Grid>\n        <Grid item><ImageIcon color='disabled'/></Grid>\n        <Grid item><Divider orientation=\"vertical\" flexItem style={{ height: '64px' }}/></Grid>\n        <Grid item>\n          <Button disabled={!isReady() || !ready} variant='contained' color='primary' disableElevation onClick={handleClick}>issue contract</Button>\n        </Grid>\n      </Grid>\n    ) : (\n      <Grid container direction='row' justify=\"flex-start\" alignItems=\"center\" style={{ height: '100%' }} spacing={3}>\n        <Grid item>\n          <Typography variant='h6' style={{ fontWeight: 'bold', marginLeft:'24px' }}>Zero-coupon bond</Typography>\n        </Grid>\n        <Grid item><Divider orientation=\"vertical\" flexItem style={{ height: '64px' }}/></Grid>\n        <Grid item>\n          <Typography>Contract is active at address</Typography>\n        </Grid>\n        <Grid item>\n          <a style={{ textDecoration: 'none' }} href={\"https://better-call.dev/\"+network+\"/\"+zcbState.contractAddress+\"/operations\"} target=\"_blank\">\n            <Chip label={zcbState.contractAddress} variant=\"outlined\" color='primary' onClick={() => {}}/>\n          </a>\n        </Grid>\n        <Grid item><Divider orientation=\"vertical\" flexItem style={{ height: '64px' }}/></Grid>\n        <Grid item><ShareIcon/></Grid>\n        <Grid item><PictureAsPdfIcon/></Grid>\n        <Grid item><Divider orientation=\"vertical\" flexItem style={{ height: '64px' }}/></Grid>\n      </Grid>\n    )\n  );\n}\n\nexport default EditorBar;","import React from 'react';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Grid from '@material-ui/core/Grid';\nimport TextField from '@material-ui/core/TextField';\n\nimport InfoOutlinedIcon from '@material-ui/icons/InfoOutlined';\nimport TimelineOutlinedIcon from '@material-ui/icons/TimelineOutlined';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { useZCBStateContext } from '../ZCBState';\n\nimport Timeline          from '@material-ui/lab/Timeline';\nimport TimelineItem      from '@material-ui/lab/TimelineItem';\nimport TimelineSeparator from '@material-ui/lab/TimelineSeparator';\nimport TimelineConnector from '@material-ui/lab/TimelineConnector';\nimport TimelineContent   from '@material-ui/lab/TimelineContent';\nimport TimelineDot       from '@material-ui/lab/TimelineDot';\nimport { Typography } from '@material-ui/core';\nimport OpenInNewIcon from '@material-ui/icons/OpenInNew';\n\nimport { network } from '../settings';\n\nconst useStyles = makeStyles((theme) => ({\n  textfield: {\n    fontSize        : '10px'\n  },\n  input: {\n    fontFamily      : 'Courier Prime, monospace',\n    fontSize        : '14px'\n  }\n}));\n\nconst ContractSideBar = (props) => {\n  const [value, setValue] = React.useState(0);\n  const classes = useStyles();\n  const  { zcbState, setContractInfo } = useZCBStateContext();\n  const handleChange = (event, newValue) => {\n      setValue(newValue);\n  }\n  const handletextfield = (event) => {\n    var info = zcbState.contractInfo;\n    var value = event.target.value;\n    switch (event.target.id) {\n      case 'issuer-name'       : info.issuer            = value; break;\n      case 'issuer-account'    : info.issueraccount     = value; break;\n      case 'subscriber-name'   : info.subscriber        = value; break;\n      case 'subscriber-account': info.subscriberaccount = value; break;\n      case 'face-value'        : info.faceprice         = (parseInt(value) >= 0)?parseInt(value).toString():'0'; break;\n      case 'discount-rate'     : info.discount          = (parseInt(value) >= 0)?value:'0'; break;\n      case 'duration'          : info.duration          = (parseInt(value) >= 0)?value:'0'; break;\n      case 'transfer-period'   : info.period            = (parseInt(value) >= 0)?value:'0'; break;\n      default : {}\n    }\n    setContractInfo(info);\n  };\n  const timelineItems =\n    zcbState.timeline.map(element => {\n      return (\n      <TimelineItem>\n        <TimelineSeparator>\n          <TimelineDot variant=\"outlined\" color=\"primary\"/>\n          <TimelineConnector />\n        </TimelineSeparator>\n        <TimelineContent style={{ flex: 200 }}>\n          <Typography color='textSecondary'>{element.date}</Typography>\n          {(element.ophash !== undefined)?(\n            <a style={{ textDecoration: 'none' }} href={\"https://better-call.dev/\"+network+\"/opg/\"+element.ophash+\"/contents\"} target=\"_blank\">\n              <Typography style={{ color: 'black' }}>{element.label} <OpenInNewIcon style={{ position: 'relative', top: '4px'}}fontSize='small'/></Typography>\n            </a>\n          ) : (\n            <Typography>{element.label}</Typography>\n          )}\n        </TimelineContent>\n      </TimelineItem>);\n    });\n  const disabled = zcbState.contractAddress !== '';\n  return (\n    <Grid container direction='row'>\n      <Grid item xs={12} style={{ position: 'relative', top: '-6px' }}>\n        <Tabs value={value} onChange={handleChange} aria-label=\"simple tabs example\" color='primary' indicatorColor=\"primary\">\n          <Tab label=\"Data\"  icon={<InfoOutlinedIcon />}/>\n          <Tab label=\"Timeline\" icon={<TimelineOutlinedIcon />}/>\n        </Tabs>\n      </Grid>\n      {\n        (value === 0)? (\n          <Grid item xs={12}>\n            <Grid container direction='row' style={{ padding: 24 }} spacing={2}>\n              <Grid item xs={12}>\n                <TextField disabled={disabled} size='small' onChange={handletextfield} id=\"issuer-name\" label=\"Issuer name\" fullWidth\n                value={zcbState.contractInfo.issuer}\n                className={classes.textfield} InputProps={{\n                classes: {\n                  input: classes.input,\n                },\n              }}/>\n              </Grid>\n              <Grid item xs={12}>\n                <TextField disabled={disabled} size='small' onChange={handletextfield} id=\"issuer-account\" label=\"Issuer account\" fullWidth\n                value={zcbState.contractInfo.issueraccount}\n                InputProps={{\n                classes: {\n                  input: classes.input,\n                },\n              }}/>\n              </Grid>\n              <Grid item xs={12}>\n                <TextField disabled={disabled} size='small' onChange={handletextfield} id=\"subscriber-name\" label=\"Subscriber name\" fullWidth\n                value={zcbState.contractInfo.subscriber}\n                InputProps={{\n                classes: {\n                  input: classes.input,\n                },\n              }}/>\n              </Grid>\n              <Grid item xs={12}>\n                <TextField disabled={disabled} size='small' onChange={handletextfield} id=\"subscriber-account\" label=\"Subscriber account\" fullWidth\n                value={zcbState.contractInfo.subscriberaccount}\n                InputProps={{\n                classes: {\n                  input: classes.input,\n                },\n              }}/>\n              </Grid>\n              <Grid item xs={12}>\n                <TextField disabled={disabled} size='small' onChange={handletextfield} id=\"face-value\" label=\"Face value\" fullWidth\n                value={zcbState.contractInfo.faceprice}\n                InputProps={{\n                classes: {\n                  input: classes.input,\n                },\n              }}/>\n              </Grid>\n              <Grid item xs={12}>\n                <TextField disabled={disabled} size='small' onChange={handletextfield} id=\"discount-rate\" label=\"Discount rate (in %)\" type=\"number\"\n                value={zcbState.contractInfo.discount}\n                fullWidth InputProps={{\n                classes: {\n                  input: classes.input,\n                },\n              }}/>\n              </Grid>\n              <Grid item xs={12}>\n                <TextField disabled={disabled} size='small' onChange={handletextfield} id=\"duration\" label=\"Duration (in minutes)\" type=\"number\" fullWidth\n                value={zcbState.contractInfo.duration}\n                InputProps={{\n                classes: {\n                  input: classes.input,\n                },\n              }}/>\n              </Grid>\n              <Grid item xs={12}>\n                <TextField disabled={disabled} size='small' onChange={handletextfield} id=\"transfer-period\" label=\"Payback period (in minutes)\" type=\"number\" fullWidth\n                value={zcbState.contractInfo.period}\n                InputProps={{\n                classes: {\n                  input: classes.input,\n                },\n              }}/>\n              </Grid>\n            </Grid>\n          </Grid>\n        ) : (\n          <Timeline>\n            { timelineItems }\n          </Timeline>\n        )\n      }\n    </Grid>\n  );\n};\n\nexport default ContractSideBar;","import { network } from './settings';\nimport { useState, useEffect } from 'react';\nimport { useZCBStateContext } from './ZCBState';\n\nconst getUrl = (address) => {\n  return \"https://api.better-call.dev/v1/contract/\"+network+\"/\"+ address +\"/operations\";\n}\n\nconst addressToName = (state,address) => {\n  if (state.contractInfo.issueraccount == address) {\n    return state.contractInfo.issuer;\n  } else {\n    return state.contractInfo.subscriber;\n  }\n}\n\nconst options = {year: \"numeric\", month: \"numeric\", day: \"numeric\",\nhour: \"numeric\", minute: \"numeric\", second: \"numeric\",\nhour12: false};\n\nexport function useIndexer(address) {\n  const [time, setTime] = useState(null);\n  const { zcbState, addTimeline } = useZCBStateContext();\n\n  async function handleResponse(time,response) {\n    console.log(time);\n    var operations = JSON.parse(response).operations;\n    console.log(`indexer returns ${operations.length} operations`);\n    if (operations.length + 1 > zcbState.timeline.length) {\n      if (operations[0].kind === 'transaction') {\n        switch (operations[0].entrypoint) {\n          case 'sign':\n            var signer = addressToName(zcbState,operations[0].source);\n            var event = {\n              date: new Intl.DateTimeFormat('en-GB',options).format(Date.now())/* operations[0].timestamp */,\n              type: 'signature',\n              label: 'Signed by '+signer,\n              signer: signer,\n              ophash: operations[0].hash\n            };\n            addTimeline(event);\n            break;\n          case 'terminate':\n            var event = {\n              date: new Intl.DateTimeFormat('en-GB',options).format(Date.now())/* operations[0].timestamp */,\n              type: 'termination',\n              label: 'Terminated',\n              ophash: operations[0].hash\n            };\n            addTimeline(event);\n            break;\n          case 'dispute':\n            var event = {\n              date: new Intl.DateTimeFormat('en-GB',options).format(Date.now())/* operations[0].timestamp */,\n              type: 'disputation',\n              label: 'Disputed',\n              ophash: operations[0].hash\n            };\n            addTimeline(event);\n            break;\n          default: console.log('unknow transaction!');\n        }\n      } else if (operations[0].kind === 'origination') {\n        var event = {\n          date: new Intl.DateTimeFormat('en-GB',options).format(Date.now())/* operations[0].timestamp */,\n          type: 'origination',\n          label: 'Issued',\n          ophash: operations[0].hash\n        };\n        addTimeline(event);\n      }\n    }\n  }\n\n  useEffect(() => {\n    if (address !== '') {\n      const timer=setTimeout(() => {\n        var xmlHttp = new XMLHttpRequest();\n        xmlHttp.onreadystatechange = function() {\n          if (xmlHttp.readyState === 4 && xmlHttp.status === 200)\n            handleResponse(time,xmlHttp.responseText);\n        }\n        xmlHttp.open(\"GET\", getUrl(address), true); // true for asynchronous\n        xmlHttp.send(null);\n        setTime(Date.now());\n      }, 5000);\n      // Clear timeout if the component is unmounted\n      return () => clearTimeout(timer);\n    }\n  });\n\n  return null;\n}\n\n","import './App.css';\nimport React from 'react';\nimport HeaderBar from './components/HeaderBar';\nimport { createMuiTheme } from '@material-ui/core/styles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport SnackMsg from './components/SnackMsg';\nimport { appTitle, appName, network } from './settings';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Drawer from '@material-ui/core/Drawer';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport ContractPaper from './components/ContractPaper';\nimport EditorBar from './components/EditorBar';\nimport ContractSideBar from './components/ContractSidebar';\nimport { DAppProvider, useConnect } from './dapp.js';\nimport { ZCBProvider, useZCBStateContext } from './ZCBState';\nimport { useIndexer } from './indexer';\n\nfunction App() {\n  return (\n   <DAppProvider appName={appName}>\n      <ZCBProvider>\n        <React.Suspense fallback={null}>\n            <PageRouter />\n        </React.Suspense>\n      </ZCBProvider>\n    </DAppProvider>\n  );\n}\n\nconst drawerWidth = 320;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n  },\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0,\n  },\n  drawerPaper: {\n    width: drawerWidth,\n  },\n  drawerContainer: {\n    overflow: 'auto',\n  },\n  content: {\n    flexGrow: 1,\n  },\n}));\n\nfunction PageRouter() {\n  const classes = useStyles();\n  var prefersDarkMode = false;\n  const connect = useConnect();\n  const [open, setOpen] = React.useState(false);\n  const { zcbState } = useZCBStateContext();\n  const theme = React.useMemo(\n    () =>\n      createMuiTheme(),\n    [prefersDarkMode],\n  );\n  const handleConnect = React.useCallback(async () => {\n    try {\n      await connect(network);\n    } catch (err) {\n      alert(err.message);\n    };\n  }, [connect]);\n  const margin = drawerWidth+'px';\n  console.log(`margin: ${margin}`);\n  const openSnack = () => { setOpen(true); };\n  const closeSnack = () => { setOpen(false); };\n  useIndexer(zcbState.contractAddress);\n  return (\n    <div className={classes.root}>\n      <CssBaseline />\n      <HeaderBar appTitle={appTitle} handleConnect={handleConnect} theme={theme}></HeaderBar>\n      <main className={classes.content}>\n        <Toolbar />\n        <Grid container style={{ padding: 0 }} justify=\"center\" alignItems=\"center\">\n          <Grid item xs={12}>\n            <Toolbar style={{ position: 'fixed', width: '100%', padding: 0, height: '65px', zIndex: 1000 }}>\n              <Paper style={{ width: '100%', height: '65px' }} square variant='outlined' elevation={0}>\n                <EditorBar openSnack={openSnack} closeSnack={closeSnack}></EditorBar>\n              </Paper>\n            </Toolbar>\n          </Grid>\n\n          <Grid item> <Typography style={{ width: '320px' }}></Typography></Grid>\n          <Grid item xs={6} style={{ paddingTop: '120px' }}>\n            <ContractPaper></ContractPaper>\n          </Grid>\n        </Grid>\n        <Grid item xs={12}>\n            <Toolbar></Toolbar>\n            <Toolbar></Toolbar>\n        </Grid>\n      </main>\n      <SnackMsg open={open} theme={theme}></SnackMsg>\n      <Drawer\n        className={classes.drawer}\n        variant=\"permanent\"\n        classes={{\n          paper: classes.drawerPaper,\n        }}\n        anchor='right'\n      >\n        <Toolbar />\n        <div className={classes.drawerContainer}>\n          <ContractSideBar></ContractSideBar>\n        </div>\n      </Drawer>\n    </div>\n  );\n}\n\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}